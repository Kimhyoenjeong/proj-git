



if (!('vw' in window)) {
  window.vw = {
    VERSION : "DEV 2.0.0001"
  };
}
if (!('loader' in window.vw)) {
   window.vw.loader = {};
}
if (!('Exception' in window.vw)) {
  window.vw.Exception = {};
}
if (!("idleproc" in window.vw)) {
    window.vw.idleproc = {};
}
if (!("map" in window.vw.idleproc)){
    window.vw.idleproc.map = {};
}
vw.loader.APIKEY = 'E09FE1B8-CD2B-31FB-8200-0A82D52143DB';
vw.loader.HOST3D = 'xdworld.vworld.kr';
vw.loader.PORT3D = '8080';
vw.loader.VERSION3D = '/dll_home/version.txt';
vw.loader.WAS3DSERVER = false;
vw.loader.FULLURL="http://"+vw.loader.HOST3D+":"+vw.loader.PORT3D,vw.loader.XDCOMCLSID="07782E30-6EFC-4760-BE77-9A8D40FC0E92",vw.loader.XDLANCHCLSID="32AFB3E5-DAC6-458A-85CD-11394D8A251B",vw.loader.VWORLD_EMBED_TYPE="application/npVWorld-Plugin:.VWorld:Scriptability Plugin,version=1.0.0.5",vw.loader._ERROR_STR="",vw.loader._ERROR_CODE=1,vw.loader.OS_WINDOW="win",vw.loader.OS_MAC="mac",vw.loader.OS_LINUX="linux",vw.loader.CURRENT_BROWSER="",vw.loader.BROWSER_IE=0,vw.loader.BROWSER_CHROME=1,vw.loader.BROWSER_FIREFOX=2,vw.loader.BROWSER_SAFARI=3,vw.loader.BROWSER_OPERA=4,vw.loader.BROWSER_MOZILLA=5,vw.loader.BROWSER_NETSCAPE=6,vw.loader.BROWSER_OTHERS=7,vw.loader.DEFAULT_LAYER=["facility_build","hybrid_bound","poi_base","facility_build_lod1","facility_build_lod3","facility_bridge","facility_dokdo","facility_build_world","poi_base_world","poi_road","poi_bound","poi_bound_world"],vw.loader.c_flag=!1,vw.loader._browserCheck=function(){var a=navigator.appName,b=navigator.userAgent,c=window.vw.loader;return""==vw.loader.CURRENT_BROWSER?b.indexOf("Opera")>=0?(vw.loader.CURRENT_BROWSER=c.BROWSER_OPERA,c.BROWSER_OPERA):b.indexOf("Edge")>=0?(vw.loader.CURRENT_BROWSER=c.BROWSER_OTHERS,c.BROWSER_OTHERS):b.indexOf("Mozilla/5.0 (Windows NT 10.0; Win64; x64)")>=0?(vw.loader.CURRENT_BROWSER=c.BROWSER_OTHERS,c.BROWSER_OTHERS):b.indexOf("Firefox")>=0||b.indexOf("Minefield")>=0?(vw.loader.CURRENT_BROWSER=c.BROWSER_FIREFOX,c.BROWSER_FIREFOX):b.indexOf("Chrome")>=0?(vw.loader.CURRENT_BROWSER=c.BROWSER_CHROME,c.BROWSER_CHROME):b.indexOf("Safari")>=0?(vw.loader.CURRENT_BROWSER=c.BROWSER_SAFARI,c.BROWSER_SAFARI):b.indexOf("MSIE")>=0||b.indexOf("Trident")>=0?(vw.loader.CURRENT_BROWSER=c.BROWSER_IE,c.BROWSER_IE):a.indexOf("Mozilla")>=0?(vw.loader.CURRENT_BROWSER=c.BROWSER_MOZILLA,c.BROWSER_MOZILLA):a.indexOf("Netscape")>=0?(vw.loader.CURRENT_BROWSER=c.BROWSER_NETSCAPE,c.BROWSER_NETSCAPE):(vw.loader.CURRENT_BROWSER=c.BROWSER_OTHERS,c.BROWSER_OTHERS):vw.loader.CURRENT_BROWSER},vw.loader._ieVersionCheck=function(){var a,b=navigator.userAgent;return a=b.indexOf("Trident/5.0")>-1?b.indexOf("MSIE 7.0")>-1?1:2:b.indexOf("Trident/4.0")>-1?b.indexOf("MSIE 7.0")>-1?3:4:b.indexOf("Trident/6.0")>-1?b.indexOf("MSIE 7.0")>-1?6:7:b.indexOf("Trident/7.0")>-1?8:5},vw.loader._nsVersionCheck=function(){var a,b,c;return/Chrome/.test(navigator.userAgent)?(a=/Chrome\/([\d\.]+) Safari/.exec(navigator.appVersion)[1],b=/(\d+)\./.exec(a)[1],c=b>31?1:2):/Firefox/.test(navigator.userAgent)?(a=/Firefox\/([\d\.]+)/.exec(navigator.userAgent)[1],b=/(\d+)\./.exec(a)[1],c=3):/Safari/.test(navigator.userAgent)&&(a=/Version\/([\d\.]+) Safari/.exec(navigator.appVersion)[1],b=/(\d+)\./.exec(a)[1],c=4),c},vw.loader._platFormCheck=function(){var a=navigator.userAgent,b=window.vw.loader;return a.indexOf("Windows")>=0?b.OS_WINDOW:(vw.Exception.setErrorCode(vw.Exception.error.UNSUPPORTED_PLATFORM),vw.Exception.setErrorString(vw.Exception.errorStr.UNSUPPORTED_PLATFORM),null)},vw.loader.createInstance=function(a,b,c,d){if(b=b||function(){},c=c||function(){},vw.Exception.setErrorCode(vw.Exception.error.NO_ERROR),vw.Exception.setErrorString(vw.Exception.errorStr.NO_ERROR),"win"!=vw.loader._platFormCheck())return void c(vw.Exception.getErrorString(),vw.Exception.getErrorCode());if(vw.loader._browserCheck()==vw.loader.BROWSER_OTHERS)return vw.Exception.setErrorCode(vw.Exception.error.UNSUPPORTED_BROWER),vw.Exception.setErrorString(vw.Exception.errorStr.UNSUPPORTED_BROWER),void c(vw.Exception.getErrorString(),vw.Exception.getErrorCode());var e;if("string"==typeof a||"String"==typeof a){if(e=document.getElementById(a),null==e)return vw.Exception.setErrorCode(vw.Exception.error.INVALID_DIV_ERROR),vw.Exception.setErrorString(vw.Exception.errorStr.INVALID_DIV_ERROR),void c(vw.Exception.getErrorString(),vw.Exception.getErrorCode())}else{if("object"!=typeof a&&"Object"!=typeof a)return vw.Exception.setErrorCode(vw.Exception.error.INVALID_DIV_ERROR),vw.Exception.setErrorString(vw.Exception.errorStr.INVALID_DIV_ERROR),void c(vw.Exception.getErrorString(),vw.Exception.getErrorCode());var f=a.nodeName.upperCase();if("DIV"!=f&&"SAPN"!=f)return vw.Exception.setErrorCode(vw.Exception.error.INVALID_DIV_ERROR),vw.Exception.setErrorString(vw.Exception.errorStr.INVALID_DIV_ERROR),void c(vw.Exception.getErrorString(),vw.Exception.getErrorCode());e=a}if(vw.loader._mapDiv=e,0==vw.loader._launcherOnLine()&&vw.Exception.setErrorCode(vw.Exception.error.NOT_INIT),vw.loader._createPluginObject(e,"XDcom"),vw.loader.CURRENT_BROWSER==vw.loader.BROWSER_IE)try{new ActiveXObject("XDWorldPlugIn.XDWorldCOM.1")}catch(a){return void vw.loader._openLauncherPage()}else if(0==vw.loader._nsPluginExist())return void vw.loader._openLauncherPage();if(vw.Exception.error.NO_ERROR==vw.Exception.getErrorCode()){vw.loader._create(e,"XDcom");var h=vw.loader._getCFlag();if(!h)return void c(vw.Exception.getErrorString(),vw.Exception.getErrorCode());var i=document.getElementById("XDcom");vw.idleproc._init(e,"XDcom",i,b,c,d)}else c(vw.Exception.getErrorString(),vw.Exception.getErrorCode())},vw.loader._apiCheck=function(a){var b=vw.idleproc.map,c=!0;if(c){var d=b.pluginObject.confirmIssuedKey(a);return vw.loader._browserCheck()==vw.loader.BROWSER_IE&&b.pluginObject.setDataAPI(!0),d?(vw.Exception.setErrorCode(vw.Exception.error.NO_ERROR),vw.Exception.setErrorString(vw.Exception.errorStr.NO_ERROR)):(vw.Exception.setErrorCode(vw.Exception.error.INVALID_API_KEY),vw.Exception.setErrorString(vw.Exception.errorStr.INVALID_API_KEY)),d}return vw.Exception.setErrorCode(vw.Exception.error.INVALID_DOMAIN),vw.Exception.setErrorString(vw.Exception.errorStr.INVALID_DOMAIN),!1},vw.loader._serverStart=function(a,b,c){document.oncontextmenu=function(){return!1};var d=vw.idleproc.map.pluginObject;vw.Exception.error.NO_ERROR==vw.Exception.getErrorCode()?(vw.idleproc.map.div.style.display="inline-block",d.setDefaultServerURL(vw.loader.HOST3D,vw.loader.PORT3D),d.setWASServer(vw.loader.WAS3DSERVER),window.setTimeout(function(){if(!window.vw.loader._apiCheck(window.vw.loader.APIKEY))return b(vw.Exception.getErrorString(),vw.Exception.getErrorCode()),!1;vw.Exception.setErrorCode(vw.Exception.error.NO_ERROR),vw.Exception.setErrorString(vw.Exception.errorStr.NO_ERROR);try{d.getOption().setMetaInfoVisible(vw.Constant.enums.VWVISIBLE_OFF)}catch(a){}for(var e=d.getLayerList(),f=0;f<e.count();f++){var g=e.indexAtLayer(f);null!=g.getName().match("_add_")&&g.setVisible(vw.Constant.enums.VWVISIBLE_OFF)}for(var e=0;e<vw.loader.DEFAULT_LAYER.length;e++)try{d.getLayerList().setVisible(vw.loader.DEFAULT_LAYER[e],vw.Constant.enums.VWVISIBLE_ON)}catch(e){}if(d.getLayerList().nameAtLayer("hybrid_road")==null){d.SetServerLayerURL("xdworld.vworld.kr:8080/hybrid","hybrid_road")}if(d.getLayerList().nameAtLayer("bill_Tree")==null){d.SetServerLayerURL("xdworld.vworld.kr:8080/real3d","bill_Tree")}d.getLayerList().setVisible("hybrid_silgam",257),d.getLayerList().setVisible("hybrid_road",257),d.getLayerList().setVisible("bill_Tree",257);var t=d.getTimeSvc();if(t!=null){t.setYear('2018'),t.setVisible(true)};a(c,d)},1)):b(vw.Exception.getErrorString(),vw.Exception.getErrorCode())},vw.loader._create=function(a,b){try{if(window.vw.loader.CURRENT_BROWSER==window.vw.loader.BROWSER_IE||window.vw.loader.CURRENT_BROWSER==window.vw.loader.BROWSER_SAFARI)document.getElementById(b).getView();else{if(window.vw.loader.CURRENT_BROWSER!=window.vw.loader.BROWSER_CHROME&&window.vw.loader.CURRENT_BROWSER!=window.vw.loader.BROWSER_FIREFOX)return vw.Exception.setErrorCode(vw.Exception.error.UNSUPPORTED_BROWER),vw.Exception.setErrorString(vw.Exception.errorStr.UNSUPPORTED_BROWER),void window.vw.loader._setCFlag(!1);this.install_check=!1;for(var d=0;d<navigator.plugins.length;d++)navigator.plugins[d].name.indexOf("VWorld")!=-1&&(this.install_check=!0);if(!this.install_check){this.notInstallPlugin=function(){this.message=null,this.name=null};var e=new this.notInstallPlugin;throw e.message=vw.Exception.errorStr.LAUNCHER_NOT_INSTALLED,e.name="plugin is not install",e}}return void window.vw.loader._setCFlag(!0)}catch(a){if(window.vw.loader._mapDiv.style.backgroundColor="#000000",window.vw.loader.CURRENT_BROWSER==window.vw.loader.BROWSER_IE)window.vw.loader._confirmInstalled("plugin");else{if(window.vw.loader.CURRENT_BROWSER!=window.vw.loader.BROWSER_CHROME&&window.vw.loader.CURRENT_BROWSER!=window.vw.loader.BROWSER_SAFARI&&window.vw.loader.CURRENT_BROWSER!=window.vw.loader.BROWSER_FIREFOX)return vw.Exception.setErrorCode(vw.Exception.error.UNSUPPORTED_BROWER),vw.Exception.setErrorString(vw.Exception.errorStr.UNSUPPORTED_BROWER),void window.vw.loader._setCFlag(!1);window.vw.loader._openLauncherPage()}return vw.Exception.setErrorCode(vw.Exception.error.NOT_INIT),vw.Exception.setErrorString(vw.Exception.errorStr.NOT_INIT),void window.vw.loader._setCFlag(!1)}},vw.loader._setCFlag=function(a){vw.loader.c_flag=a},vw.loader._getCFlag=function(){return window.vw.loader.c_flag},vw.loader._launcherExist=function(){var a=!1;try{var b=new ActiveXObject("XDLauncher.ATLWebUpdater.1");a=!!b}catch(b){a=!1}return a},vw.loader._nsPluginExist=function(){for(var a=0;a<navigator.plugins.length;a++){if(navigator.plugins[a].name.indexOf("VWorld")!=-1)return!0;if(a==navigator.plugins.length-1&&navigator.plugins[a].name.indexOf("VWorld")!=-1)return!1}},vw.loader._openLauncherPage=function(){var a=vw.loader._mapDiv;if("none"==a.style.display&&(a.style.display="block"),a){var b,c,d,e;b=a.offsetTop,c=a.offsetHeight,d=a.offsetLeft,e=a.offsetWidth;var f=vw.loader._createHTML("install",b,d,e,c,a);a.style.zIndex=0,a.innerHTML=f}},vw.loader._createHTML=function(a,b,c,d,e,f){var g,h;d<=800&&(d=800),e<=533&&(e=533),g=new Number(d)/2-400,h=new Number(e/2)-266.5-new Number(b),g<=0&&(g=0),h<=0&&(h=0);var n="";return n+='<html><head></head><body style="margin:0 0 0 0;font" >',n+="<STYLE>",n+="a:link.mapAnchor      {COLOR:#F7E6D7;TEXT-DECORATION:none;}",n+="a:visited.mapAnchor   {COLOR:#F7E6D7;TEXT-DECORATION:none;}",n+="a:active.mapAnchor    {COLOR:#F7E6D7;TEXT-DECORATION:none;}",n+="a:hover.mapAnchor     {COLOR:#FF9900;TEXT-DECORATION:none;}",n+="</STYLE>","install"!=a&&"reflash"!=a||(vw.loader.CURRENT_BROWSER==vw.loader.BROWSER_IE?n+='<div id="initError" style="position:relative;height:'+e+'px;background-color:#000000;"><div style="position:absolute;top:'+h+"px;left:"+g+'px;width:800px;height:533px;z-index:0; text-align:center;background:url(http://xdworld.vworld.kr:8080/dll_home/images/image1.jpg) no-repeat left top;" >':vw.loader.CURRENT_BROWSER==vw.loader.BROWSER_CHROME||vw.loader.CURRENT_BROWSER==vw.loader.BROWSER_SAFARI||vw.loader.CURRENT_BROWSER==vw.loader.BROWSER_FIREFOX?n+='<div id="initError" style="position:relative;height:'+e+'px;background-color:#000000;"><div style="position:absolute;top:'+h+"px;left:"+g+'px;width:800px;height:533px;z-index:0; text-align:center;background:url(http://xdworld.vworld.kr:8080/dll_home/images/image3.png) no-repeat left top;" >':alert(vw.Exception.errorStr.UNSUPPORTED_BROWER)),"reflash"!=a?vw.loader.CURRENT_BROWSER==vw.loader.BROWSER_IE?(n+='<div style="position:absolute;left:296px; top:209.5px;z-index:1; text-align:center;">',n+='<img src="http://xdworld.vworld.kr:8080/dll_home/images/button01.png"  width=200 height=60 onclick="vw.loader._onclickEventHandler();" onmouseover="this.style.cursor=\'pointer\'"></div>',n+='<div style="position:absolute; bottom:60px; left:303px; z-index:2; text-align:center;">',n+='<img src="http://xdworld.vworld.kr:8080/dll_home/images/button02.png"  width=190 height=50 onclick="vw.loader._goInstallPage();" onmouseover="this.style.cursor=\'pointer\'"></div>'):vw.loader.CURRENT_BROWSER==vw.loader.BROWSER_CHROME||vw.loader.CURRENT_BROWSER==vw.loader.BROWSER_SAFARI||vw.loader.CURRENT_BROWSER==vw.loader.BROWSER_FIREFOX?(n+='<div style="position:absolute;left:296px; top:209.5px;z-index:1; text-align:center;">',n+='<a onclick="window.vw.loader._onclickEventHandler();" style="cursor:pointer;background:url(http://xdworld.vworld.kr:8080/dll_home/images/button01.png) no-repeat left top;width:200px; height:60px;display:block;background-size:200px 60px;text-indent:-5000px">플러그인 설치</a></div>',n+='<div style="position:absolute; bottom:60px; left:303px; z-index:2; text-align:center;">',n+='<a onclick="vw.loader._goInstallPage();" style="cursor:pointer;background:url(http://xdworld.vworld.kr:8080/dll_home/images/button02.png) no-repeat left top;width:190px; height:50px;display:block;background-size:190px 50px;text-indent:-5000px">설치안내 바로가기</a></div>'):alert(vw.Exception.errorStr.UNSUPPORTED_BROWER):"plugin"==a&&(n+='<div id="initError" style="position:relative;height:'+e+'px;background-color:#000000;"><div style="position:absolute;top:'+h+"px;left:"+g+'px;width:800px;height:533px;z-index:0; text-align:center;background:url(http://xdworld.vworld.kr:8080/dll_home/images/image2.jpg) no-repeat left top;" >'),n+="</div></div></body></html>"},vw.loader._makeDiv=function(a){var b=document.createElement("div");return b.style.position="absolute",b.style.top="0px",b.style.left="0px",b.style.display="none",b.id=a,b},vw.loader._launcherOnLine=function(){var a=!0,b=document.getElementById("launcher");null==b&&(b=window.vw.loader._makeDiv("launcher")),document.body.appendChild(b),window.vw.loader._createLauncherObject(b,"XDLUC");try{vw.Exception.getErrorCode()==vw.Exception.error.NO_ERROR?XDLUC.RunUpdate(vw.loader.HOST3D,vw.loader.PORT3D,vw.loader.VERSION3D):a=!1}catch(b){return a=!1,vw.Exception.setErrorCode(vw.Exception.error.UNABLE_EXCUTE_LANCHER),vw.Exception.setErrorString(vw.Exception.errorStr.UNABLE_EXCUTE_LANCHER),a}return a},vw.loader._createLauncherObject=function(a,b){try{vw.loader.CURRENT_BROWSER==vw.loader.BROWSER_IE&&(a.innerHTML="<object  onerror='window.vw.loader._luncherError();return false; ' id='"+b+"'CLASSID='CLSID:"+window.vw.loader.XDLANCHCLSID+"'WIDTH='100%' HEIGHT='100%'></OBJECT>"),vw.Exception.setErrorCode(vw.Exception.error.NO_ERROR),vw.Exception.setErrorString(vw.Exception.errorStr.NO_ERROR)}catch(a){vw.Exception.setErrorCode(vw.Exception.error.LAUNCHER_NOT_INSTALLED),vw.Exception.setErrorString(vw.Exception.errorStr.LAUNCHER_NOT_INSTALLED)}},window.vw.loader._luncherError=function(){return vw.Exception.setErrorCode(vw.Exception.error.LAUNCHER_NOT_INSTALLED),vw.Exception.setErrorString(vw.Exception.errorStr.LAUNCHER_NOT_INSTALLED),!1},vw.loader._onclickEventHandler=function(){vw.loader.CURRENT_BROWSER==vw.loader.BROWSER_IE?location.href="http://xdworld.vworld.kr:8080/3dgis/launcher/ie/sopLauncherSetup_ie.exe":vw.loader.CURRENT_BROWSER==vw.loader.BROWSER_CHROME||vw.loader.CURRENT_BROWSER==vw.loader.BROWSER_FIREFOX||vw.loader.CURRENT_BROWSER==vw.loader.BROWSER_SAFARI?location.href="http://xdworld.vworld.kr:8080/3dgis/launcher/ns/VWLauncherSetup_ns.exe":alert(vw.Exception.errorStr.UNSUPPORTED_BROWER),window.vw.loader._confirmInstalled("reflash")},vw.loader._goInstallPage=function(){location.href="http://map.vworld.kr/map/po_mapuse_a001.do"},vw.loader._createPluginObject=function(a,b){try{vw.loader.CURRENT_BROWSER==vw.loader.BROWSER_IE?a.innerHTML="<object  onerror='vw.loader._pluginError();return false;' id='"+b+"'CLASSID='CLSID:"+window.vw.loader.XDCOMCLSID+"'WIDTH='100%' HEIGHT='100%'></OBJECT>":vw.loader._browserCheck()!=vw.loader.BROWSER_OTHERS&&(a.innerHTML="<embed id='"+b+"' type='"+window.vw.loader.VWORLD_EMBED_TYPE+"'WIDTH='100%' HEIGHT='100%'>"),vw.Exception.setErrorCode(vw.Exception.error.NO_ERROR),vw.Exception.setErrorString(vw.Exception.errorStr.NO_ERROR)}catch(a){vw.Exception.setErrorCode(vw.Exception.error.CREATE_PLUGIN_ERROR),vw.Exception.setErrorString(vw.Exception.errorStr.CREATE_PLUGIN_ERROR)}},vw.loader._confirmInstalled=function(a){var c,d,e,f,b=vw.loader._mapDiv;c=b.offsetTop,d=b.offsetHeight,e=b.offsetLeft,f=b.offsetWidth;var g=vw.loader._createHTML(a,c,e,f,d,b);b.style.zIndex=0,b.innerHTML=g},vw.loader._pluginError=function(){return vw.Exception.setErrorCode(vw.Exception.error.CREATE_PLUGIN_ERROR),vw.Exception.setErrorString(vw.Exception.errorStr.CREATE_PLUGIN_ERROR),!1},vw.idleproc._init=function(a,b,c,d,e,f){var g=window.vw.idleproc;window.vw.loader;try{"undefined"!=top.window.vw&&null!=top.window.vw&&"undefined"!=top.window.vw.idleproc&&null!=top.window.vw.idleproc||(top.window.vw=window.vw,top.window.vw.idleproc=window.vw.idleproc)}catch(a){}g.setMap(a,b,c),vw.loader._serverStart(d,e,f)},window.vw.idleproc.setMap=function(a,b,c){window.vw.idleproc.map.pluginID=b,window.vw.idleproc.map.div=a,window.vw.idleproc.map.pluginObject=c},vw.Exception.getErrorCode=function(){return vw.loader._ERROR_CODE},vw.Exception.getErrorString=function(){return vw.loader._ERROR_STR},vw.Exception.setErrorCode=function(a){"number"!=typeof a&&"Number"!=typeof a||(window.vw.loader._ERROR_CODE=a)},vw.Exception.setErrorString=function(a){"string"!=typeof a&&"String"!=typeof a||(window.vw.loader._ERROR_STR=a)},vw.Exception.errorStr={NO_ERROR:"정상입니다.",CREATE_PLUGIN_ERROR:"플러그인이 적용되지 않았습니다.",INVALID_DIV_ERROR:"플러그인을 추가할 영역의 아이디가 실제와 다르거나 지정되어 있지 않습니다..",NO_AVAILABLE_ID:"사용할 수 없는 아이디입니다.",UNSUPPORTED_PLATFORM:"플렛폼이 플러그인을 지원하지 않습니다.",UNSUPPORTED_BROWER:"브라우저가 플러그인을 지원하지 않습니다.",LAUNCHER_NOT_INSTALLED:"지도를 사용하시려면 플러그인을 설치해 주십시오.",NOT_INIT:"플러그인이 설치되지 않았습니다.",INVALID_API_KEY:"발행되지 않았거나 인증되지 않은 API 키를 사용하고 있습니다. ",EARTH_NOT_READY:"지도데이터의 로딩에 실패하였습니다.",CREATE_CONNECT_MUTEX:"서버접속을 실패하였습니다.",LAYER_INIT_ERROR:"레이어의 초기화에 실패하였습니다.",CREATE_EARTH_TIMEOUT:"대기시간이 초과되었습니다.",ERR_ETC:"알 수 없는 오류가 발생했습니다.",INVALID_LANCHER_DIV:"런처를 추가할 영역의 아이디가 실제와 다르거나 영역이 지정되어있지 않습니다.",UNABLE_EXCUTE_LANCHER:"브라우저 상단의 알림창에서 [추가기능 실행]이나 [모든 웹페이지에서 추가기능 실행]을 클릭하시면 서비스를 이용하실수 있습니다.",INVALID_DOMAIN:"사용신청한 도메인과 현재 사용중인 도메인이 서로 다릅니다.",UNSUPPORTED_3DMAP:"3D MAP API에서 지원하지 않는 기능입니다.",UNSUPPORTED_YET:"현재 지원하지 않는 기능입니다.",UNSUPPORTED_TYPE:"잘못된 인자형식 입니다.",INVALID_MAP_OBJECT:"MAP 객체가 호출되지 않았습니다."},vw.Exception.error={NO_ERROR:1,CREATE_PLUGIN_ERROR:2,INVALID_DIV_ERROR:3,NO_AVAILABLE_ID:4,UNSUPPORTED_PLATFORM:5,UNSUPPORTED_BROWER:6,LAUNCHER_NOT_INSTALLED:7,NOT_INIT:8,INVALID_API_KEY:9,EARTH_NOT_READY:10,CREATE_CONNECT_MUTEX:11,LAYER_INIT_ERROR:12,CREATE_EARTH_TIMEOUT:13,ERR_ETC:14,INVALID_LANCHER_DIV:15,UNABLE_EXCUTE_LANCHER:16,INVALID_DOMAIN:17,UNSUPPORTED_3DMAP:18,UNSUPPORTED_YET:19,UNSUPPORTED_TYPE:20,INVALID_MAP_OBJECT:21},vw.Constant={},vw.Constant.enums={VWEDITABLE_OFF:289,VWEDITABLE_ON:290,VWKEYBOARD_DOWN:18,VWKEYBOARD_LEFT:19,VWKEYBOARD_RIGHT:20,VWKEYBOARD_ROTATELEFT:25,VWKEYBOARD_ROTATERIGHT:32,VWKEYBOARD_TILTDOWN:24,VWKEYBOARD_TILTUP:23,VWKEYBOARD_UP:17,VWKEYBOARD_ZOOMIN:21,VWKEYBOARD_ZOOMOUT:22,VWNAVIGATION_LARGE:5,VWNAVIGATION_LB:3,VWNAVIGATION_LT:1,VWNAVIGATION_RB:4,VWNAVIGATION_RT:2,VWNAVIGATION_SMALL:6,VWOBJECT_LINESTRING:65538,VWOBJECT_MODEL:65540,VWOBJECT_POINT:65537,VWOBJECT_POLYGON:65539,VWOBJECT_SYMBOL:65541,VWOPTION_DISABLE:4097,VWOPTION_HIGH:4099,VWOPTION_MIDDLE:4098,VWSELECTABLE_OFF:273,VWSELECTABLE_ON:274,VWTEXTSTYLE_EDGE_FILL:1048579,VWTEXTSTYLE_EDGE_LINE:1048578,VWTEXTSTYLE_EDGE_LINEFILL:1048581,VWTEXTSTYLE_EDGE_NONE:1048577,VWTEXTSTYLE_FONT_BOLD:1048593,VWTEXTSTYLE_FONT_ITALIC:1048594,VWTEXTSTYLE_FONT_UNDERLINE:1048596,VWVIEW_FT_GROUND:16777218,VWVIEW_FT_SKY:16777219,VWVIEW_TD_SKY:16777217,VWVISIBLE_AUTO:259,VWVISIBLE_OFF:257,VWVISIBLE_ON:258},vw.Constant.MouseMode={MOVEGRAB:1,INPUTPOINT:20,LINESTRING:21,POLYGON:24,ANAAREA:80,ANADISTANCE:81,ANAABSHEIGHT:83,ANARELHEIGHT:84,LANDSCAPE:85,ANAHEIGHT:86},vw.Util={},vw.Util.Class=function(){var a=arguments.length,b=arguments[0],c=arguments[a-1],d="function"==typeof c.initialize?c.initialize:function(){b.prototype.initialize.apply(this,arguments)};if(a>1){var e=[d,b].concat(Array.prototype.slice.call(arguments).slice(1,a-1),c);vw.Util.inherit.apply(null,e)}else d.prototype=c;return d},vw.Util.inherit=function(a,b){var c=function(){};c.prototype=b.prototype,a.prototype=new c;var d,e,f;for(d=2,e=arguments.length;d<e;d++)f=arguments[d],"function"==typeof f&&(f=f.prototype),vw.Util.extend(a.prototype,f)},vw.Util.extend=function(a,b){if(a=a||{},b){for(var c in b){var d=b[c];void 0!==d&&(a[c]=d)}var e="function"==typeof window.Event&&b instanceof window.Event;!e&&b.hasOwnProperty&&b.hasOwnProperty("toString")&&(a.toString=b.toString)}return a},vw.Util.unSafeClone=function(a){var b=vw.Util.typeOf(a);if("object"==b||"array"==b){var c="array"==b?[]:{};for(var d in a)c[d]=vw.Util.unSafeClone(a[d]);return c}return a},vw.Util.typeOf=function(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&"undefined"==typeof a.call)return"object";return b},vw.Util.ratioTo255=function(a){return Math.round(255*a)},vw.Util.cutHex=function(a){var b=7;return a.length>7&&(b=9),"#"==a.charAt(0)?a.substring(1,b):a},vw.Util.hexToRgb=function(a){var b,c,d;return a=a.replace("#",""),3!==a.length&&6!==a.length?[255,255,255]:(3==a.length&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),b=parseInt(a.substr(0,2),16),c=parseInt(a.substr(2,2),16),d=parseInt(a.substr(4,2),16),[b,c,d])},vw.Util.rgbToHex=function(a){return a[0]=a[0]>255?255:a[0]<0?0:a[0],a[1]=a[1]>255?255:a[1]<0?0:a[1],a[2]=a[2]>255?255:a[2]<0?0:a[2],this.zeroFill(a[0].toString(16),2)+this.zeroFill(a[1].toString(16),2)+this.zeroFill(a[2].toString(16),2)},vw.Util.zeroFill=function(a,b){return b-=a.toString().length,b>0?new Array(b+(/\./.test(a)?2:1)).join("0")+a:a},vw.Util.idSeq=0,vw.Util.getUniqId=function(a){var b="id_"+a+"_"+vw.Util.idSeq;return vw.Util.idSeq++,b},vw.Util.NullCheckValue=function(a){var b=null;return null!=a&&"undefined"!=a&&(b=a),b},vw.Util.NullCheckBoolean=function(a){var b=!1;return null!=a&&"undefined"!=a&&(b=!0),b},vw.Util.trim=function(a){return a.replace(/\s/g,"")},vw.Util.getDistance=function(a,b){this.deg2rad=function(a){return a*Math.PI/180},this.rad2deg=function(a){return 180*a/Math.PI};var c=a.x-b.x,d=Math.sin(this.deg2rad(a.y))*Math.sin(this.deg2rad(b.y))+Math.cos(this.deg2rad(a.y))*Math.cos(this.deg2rad(b.y))*Math.cos(this.deg2rad(c));return d=Math.acos(d),d=this.rad2deg(d),d=60*d*1.1515,d*=1609.344},vw.Util.getDirect=function(a,b){var c=a.y*(3.141592/180),d=a.x*(3.141592/180),e=b.y*(3.141592/180),f=b.y*(3.141592/180),g=0;g=Math.acos(Math.sin(c)*Math.sin(e)+Math.cos(c)*Math.cos(e)*Math.cos(d-f));var h=Math.acos((Math.sin(e)-Math.sin(c)*Math.cos(g))/(Math.cos(c)*Math.sin(g))),i=0;return i=Math.sin(f-d)<0?h*(180/3.141592):h*(180/3.141592)},vw.Util.getTerrHeight=function(a,b){return vw.StaticMap._XDcom.getView().getTerrHeight(a,b)},vw.Util.mapRender=function(){vw.StaticMap._XDcom.getView().requestMapData(),vw.StaticMap._XDcom.getView().MapRender()},vw.Object=vw.Util.Class({on:function(a,b){var c=!1;return vw.EventSupporter.addEventListener(this,a,c,b)},once:function(a,b){var c=!0;return vw.EventSupporter.addEventListener(this,a,c,b)},un:function(a,b){vw.EventSupporter.removeEventListener(this,a,b,"")},unByKey:function(a){vw.EventSupporter.removeEventListener(this,!1,"",a)},eventList:{onPropertyChanged:"vw.PropertyChangedEvent"},set:function(a,b){null==this.userProperties?(this.userProperties={},this.userProperties[a]=b):this.userProperties[a]=b,setTimeout(function(c){vw.PropertyChangedEvent.call(c,c,a,"",b)}(this),100)},get:function(a){return"undefined"==this.userProperties[a]?null:this.userProperties[a]},getNames:function(){return this.userProperties?Object.keys(this.userProperties):null},getValues:function(){var a=new Array;if(this.userProperties){for(var b=0;b<Object.keys(this.userProperties).length;b++)a[b]=this.userProperties[Object.keys(this.userProperties)[b]];return a}return null},remove:function(a){setTimeout(function(b){vw.PropertyChangedEvent.call(b,b,pName,this.userProperties[a],"")}(this),100),delete this.userProperties[a]},equals:function(a){var b=!0;null!=a&&this.CLASS_NAME==a.CLASS_NAME||(b=!1);for(var c=0;c<Object.keys(this).length;c++)if(Object.keys(this)[c]!=Object.keys(a)[c]){b=!1;break}return b},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.Object;for(var b in this)a[b]=vw.Util.unSafeClone(this[b]);return a},initialize:function(){this.userProperties={}},CLASS_NAME:"vw.Object"}),vw.Coord=vw.Util.Class({x:null,y:null,initialize:function(a,b){this.x=isNaN(parseFloat(a))?vw.Exception.errorStr.UNSUPPORTED_TYPE:parseFloat(a),this.y=isNaN(parseFloat(b))?vw.Exception.errorStr.UNSUPPORTED_TYPE:parseFloat(b)},CLASS_NAME:"vw.Coord"}),vw.CoordZ=vw.Util.Class({x:null,y:null,z:null,initialize:function(a,b,c){this.x=isNaN(parseFloat(a))?vw.Exception.errorStr.UNSUPPORTED_TYPE:parseFloat(a),this.y=isNaN(parseFloat(b))?vw.Exception.errorStr.UNSUPPORTED_TYPE:parseFloat(b),this.z=isNaN(parseFloat(c))?vw.Exception.errorStr.UNSUPPORTED_TYPE:parseFloat(c)},CLASS_NAME:"vw.CoordZ"}),vw.CoordM=vw.Util.Class({x:null,y:null,m:null,initialize:function(a,b,c){this.x=isNaN(parseFloat(a))?vw.Exception.errorStr.UNSUPPORTED_TYPE:parseFloat(a),this.y=isNaN(parseFloat(b))?vw.Exception.errorStr.UNSUPPORTED_TYPE:parseFloat(b),this.m=isNaN(parseFloat(c))?vw.Exception.errorStr.UNSUPPORTED_TYPE:parseFloat(c)},CLASS_NAME:"vw.CoordM"}),vw.CoordZM=vw.Util.Class({x:null,y:null,z:null,m:null,initialize:function(a,b,c,d){this.x=isNaN(parseFloat(a))?vw.Exception.errorStr.UNSUPPORTED_TYPE:parseFloat(a),this.y=isNaN(parseFloat(b))?vw.Exception.errorStr.UNSUPPORTED_TYPE:parseFloat(b),this.z=isNaN(parseFloat(c))?vw.Exception.errorStr.UNSUPPORTED_TYPE:parseFloat(c),this.m=isNaN(parseFloat(d))?vw.Exception.errorStr.UNSUPPORTED_TYPE:parseFloat(d)},CLASS_NAME:"vw.CoordZM"}),vw.Pixel=vw.Util.Class({x:null,y:null,initialize:function(a,b){this.x=isNaN(parseFloat(a))?vw.Exception.errorStr.UNSUPPORTED_TYPE:parseFloat(a),this.y=isNaN(parseFloat(b))?vw.Exception.errorStr.UNSUPPORTED_TYPE:parseFloat(b)},CLASS_NAME:"vw.Pixel"}),vw.CoordPixel=vw.Util.Class({coord:null,pixel:null,initialize:function(a,b){this.coord=a instanceof vw.Coord?a:vw.Exception.errorStr.UNSUPPORTED_TYPE,this.pixel=b instanceof vw.Pixel?b:vw.Exception.errorStr.UNSUPPORTED_TYPE},CLASS_NAME:"vw.CoordPixel"}),vw.Size=vw.Util.Class(vw.Object,{width:null,height:null,setWidth:function(a){this.width=a},getWidth:function(){return this.width},setHeight:function(a){this.height=a},getHeight:function(){return this.height},initialize:function(a,b){this.width=a,this.height=a},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.Size(this.width,this.height);for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},CLASS_NAME:"vw.Size"}),vw.Size.fromCoord=function(a,b){if(null!=a&&null!=b&&a instanceof vw.Coord&&b instanceof vw.Coord){var c=Math.abs(a.x-b.x),d=Math.abs(a.y-b.y);return new vw.Size(c,d)}return vw.Exception.errorStr.UNSUPPORTED_TYPE},vw.Size.fromPixel=function(a,b){if(null!=a&&null!=b&&a instanceof vw.Pixel&&b instanceof vw.Pixel){var c=Math.abs(a.x-b.x),d=Math.abs(a.y-b.y);return new vw.Size(c,d)}return vw.Exception.errorStr.UNSUPPORTED_TYPE},vw.Extent=vw.Util.Class(vw.Size,{minx:null,miny:null,maxx:null,maxy:null,setMinx:function(a){this.minx=a},getMinx:function(){return this.minx},setMiny:function(a){this.miny=a},getMiny:function(){return this.miny},setMaxx:function(a){this.maxx=a},getMaxx:function(){return this.maxx},setMaxy:function(a){this.maxy=a},getMaxy:function(){return this.maxy},initialize:function(a,b,c,d){this.minx=vw.Util.nomalNullCheck(a),this.miny=vw.Util.nomalNullCheck(b),this.maxx=vw.Util.nomalNullCheck(c),this.maxy=vw.Util.nomalNullCheck(d)},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.Extent(this.minx,this.miny,this.maxx,this.maxy);for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},CLASS_NAME:"vw.Extent"}),vw.Extent.fromCoord=function(a,b){if(null==a||null==b)return vw.Exception.errorStr.UNSUPPORTED_TYPE;if(a instanceof vw.Coord&&b instanceof vw.Coord){var c=new vw.Extent(0,0,0,0);return a.x>b.x?(c.setMinx(b.x),c.setMaxx(a.x)):(c.setMinx(a.x),c.setMaxx(b.x)),a.Y>b.Y?(c.setMiny(b.y),c.setMaxy(a.y)):(c.setMiny(a.y),c.setMaxy(b.y)),c}},vw.Extent.fromPixel=function(a,b){if(null==a||null==b)return vw.Exception.errorStr.UNSUPPORTED_TYPE;if(a instanceof vw.Pixel&&b instanceof vw.Pixel){var c=new vw.Extent(0,0,0,0);return a.x>b.x?(c.setMinx(b.x),c.setMaxx(a.x)):(c.setMinx(a.x),c.setMaxx(b.x)),a.Y>b.Y?(c.setMiny(b.y),c.setMaxy(a.y)):(c.setMiny(a.y),c.setMaxy(b.y)),c}},vw.Bound=vw.Util.Class({apply:!1,min:null,max:null,setApply:function(a){this.apply=a},getApply:function(){return this.apply},setMin:function(a){this.min=a},getMin:function(){return this.min},setpMax:function(a){this.max=a},getpMax:function(){return this.max},initialize:function(a,b,c){vw.Util.NullCheckBoolean(a)&&(this.min=isNaN(parseFloat(a))?vw.Exception.errorStr.UNSUPPORTED_TYPE:parseFloat(a)),vw.Util.NullCheckBoolean(b)&&(this.max=isNaN(parseFloat(b))?vw.Exception.errorStr.UNSUPPORTED_TYPE:parseFloat(b)),vw.Util.NullCheckBoolean(c)&&(this.apply=c)},CLASS_NAME:"vw.Bound"}),vw.FaceBound=vw.Util.Class({apply:!1,x:null,y:null,setApply:function(a){this.apply=a},getApply:function(){return this.apply},setX:function(a){this.min=a},getX:function(){return this.x},setY:function(a){this.y=a},getY:function(){return this.y},initialize:function(a,b,c){vw.Util.NullCheckBoolean(a)&&(this.x=a instanceof vw.Bound?a:vw.Exception.errorStr.UNSUPPORTED_TYPE),vw.Util.NullCheckBoolean(b)&&(this.y=b instanceof vw.Bound?b:vw.Exception.errorStr.UNSUPPORTED_TYPE),vw.Util.NullCheckBoolean(c)&&(this.apply=c)},CLASS_NAME:"vw.FaceBound"}),vw.CubeBound=vw.Util.Class({apply:!1,x:null,y:null,z:null,setApply:function(a){this.apply=a},getApply:function(){return this.apply},setX:function(a){this.min=a},getX:function(){return this.x},setY:function(a){this.y=a},getY:function(){return this.y},setZ:function(a){this.z=a},getZ:function(){return this.z},initialize:function(a,b,c){vw.Util.NullCheckBoolean(pX)&&(this.x=pX instanceof vw.Bound?pX:vw.Exception.errorStr.UNSUPPORTED_TYPE),vw.Util.NullCheckBoolean(pY)&&(this.y=pY instanceof vw.Bound?pY:vw.Exception.errorStr.UNSUPPORTED_TYPE),vw.Util.NullCheckBoolean(pZ)&&(this.x=pZ instanceof vw.Bound?pZ:vw.Exception.errorStr.UNSUPPORTED_TYPE),vw.Util.NullCheckBoolean(c)&&(this.apply=c)},CLASS_NAME:"vw.CubeBound"}),vw.Color=vw.Util.Class(vw.Object,{r:null,g:null,b:null,a:null,setA:function(a){this.a=a},getA:function(){return this.a},setR:function(a){this.r=a},getR:function(){return this.r},setG:function(a){this.g=a},getG:function(){return this.g},setB:function(a){this.b=a},getB:function(){return this.b},getCssString:function(){var a=parseInt(this.r),b=parseInt(this.g),c=parseInt(this.b),d=parseInt(this.a),e=a.toString(16),f=b.toString(16),g=c.toString(16),h=d.toString(16);1==e.length&&(e="0"+e),1==f.length&&(f="0"+f),1==g.length&&(g="0"+g),1==h.length&&(h="0"+h);var i="#"+e+f+g;return i=i.toUpperCase()},getSopColor:function(){var a=vw.StaticMap._XDcom.createColor();return a.setARGB(this.getA(),this.getR(),this.getG(),this.getB()),a},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.Color(this.r,this.g,this.b,this.a);for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a,b,c,d){if(arguments.length<3)return vw.Exception.errorStr.UNSUPPORTED_TYPE;for(var e=0;e<arguments.length;e++)if(arguments[e]<0&&arguments[e]>255)return!1;var f=arguments.length;this.r=a,this.g=b,this.b=c,4==f?this.a=d:this.a=255},CLASS_NAME:"vw.Color"}),vw.Color.fromRations=function(a,b,c,d){if(arguments.length<3)return vw.Exception.errorStr.UNSUPPORTED_TYPE;if(a<0||a>1)return vw.Exception.errorStr.UNSUPPORTED_TYPE;if(c<0||c>1)return vw.Exception.errorStr.UNSUPPORTED_TYPE;if(d<0||d>1)return vw.Exception.errorStr.UNSUPPORTED_TYPE;for(var e=new Array,f=0;f<arguments.length;f++)e[f]=vw.Util.ratioTo255(arguments[f]);return null!=e[3]&&"undefined"!=e[f]||(e[3]=1),new vw.Color(e[0],e[1],e[2],e[3])},vw.Color.fromCssString=function(a){var a=vw.Util.cutHex(a),b=parseInt(a.substring(0,2),16),c=parseInt(a.substring(2,4),16),d=parseInt(a.substring(4,6),16),e=parseInt(255);return a.length>6&&(e=parseInt(a.substring(6,8),16)),new vw.Color(b,c,d,e)},vw.Color.BLACK=new vw.Color(0,0,0),vw.Color.WHITE=new vw.Color(255,255,255),vw.Color.GRAY=new vw.Color(128,128,128),vw.Color.RED=new vw.Color(255,0,0),vw.Color.GREEN=new vw.Color(0,128,0),vw.Color.BLUE=new vw.Color(0,0,255),vw.Color.BROWN=new vw.Color(165,42,42),vw.Color.GOLD=new vw.Color(255,215,0),
vw.Color.GREENYELLOW=new vw.Color(173,255,47),vw.Color.PINK=new vw.Color(255,192,203),vw.Color.PURPLE=new vw.Color(128,0,128),vw.Color.YELLOW=new vw.Color(255,255,0),vw.Color.AQUA=new vw.Color(0,255,255),vw.Color.BLUEVIOLET=new vw.Color(138,43,226),vw.Color.CHOCOLATE=new vw.Color(210,105,30),vw.Color.CORAL=new vw.Color(255,127,80),vw.Color.CYAN=new vw.Color(0,255,255),vw.Color.HOTPINK=new vw.Color(255,105,180),vw.Color.INDIGO=new vw.Color(75,0,130),vw.Color.KHAKI=new vw.Color(240,230,140),vw.Color.LAVENDER=new vw.Color(230,230,250),vw.Color.LIME=new vw.Color(0,255,0),vw.Color.MAGENTA=new vw.Color(255,0,255),vw.Color.NAVY=new vw.Color(0,0,128),vw.Color.OLIVE=new vw.Color(128,128,0),vw.Color.ORANGE=new vw.Color(255,165,0),vw.Color.SALMON=new vw.Color(250,128,114),vw.Color.SILVER=new vw.Color(192,192,192),vw.Color.SKYBLUE=new vw.Color(135,206,235),vw.Color.SNOW=new vw.Color(255,250,250),vw.Color.TOMATO=new vw.Color(255,99,71),vw.Color.VIOLET=new vw.Color(238,130,238),vw.ColorRamp=vw.Util.Class(vw.Object,{type:"none",setType:function(a){a in vw.ColorRampType&&(this.createType(a),this.type=a)},getType:function(){return this.type},makeRamp:function(a,b,c){var d=[],h=(Math.max(a.r,b.r)-Math.min(a.r,b.r))/c,i=(Math.max(a.g,b.g)-Math.min(a.g,b.g))/c,j=(Math.max(a.b,b.b)-Math.min(a.b,b.b))/c;d.push(a);for(var k=a.r,l=a.g,m=a.b,n=0;n<c-2;n++)k=a.r<b.r?k+Math.round(h):k-Math.round(h),l=a.g<b.g?l+Math.round(i):l-Math.round(i),m=a.b<b.b?m+Math.round(j):m-Math.round(j),d.push(new vw.Color(k,l,m));return d.push(b),d},createType:function(a){switch(a){case"NONE":break;case"JET":var b=vw.Color.fromCssString("#0000c0"),c=vw.Color.fromCssString("#01ffff"),d=vw.Color.fromCssString("#ffff01"),e=vw.Color.fromCssString("#800001");this.rampArr=this.makeRamp(b,c,6);for(var g=this.makeRamp(c,d,5),h=1;h<g.length;h++)this.rampArr.push(g[h]);for(var i=this.makeRamp(d,e,7),h=1;h<i.length;h++)this.rampArr.push(i[h]);break;case"HSV":var b=vw.Color.fromCssString("#fe0000"),c=vw.Color.fromCssString("#dffe00"),d=vw.Color.fromCssString("#00ff3f"),e=vw.Color.fromCssString("#01ffff"),j=vw.Color.fromCssString("#1f00fe"),k=vw.Color.fromCssString("#ff005e");this.rampArr=this.makeRamp(b,c,4);for(var g=this.makeRamp(c,d,4),h=1;h<g.length;h++)this.rampArr.push(g[h]);for(var i=this.makeRamp(d,e,3),h=1;h<i.length;h++)this.rampArr.push(i[h]);for(var l=this.makeRamp(e,j,4),h=1;h<l.length;h++)this.rampArr.push(l[h]);for(var m=this.makeRamp(j,k,5),h=1;h<m.length;h++)this.rampArr.push(m[h]);break;case"HOT":var b=vw.Color.fromCssString("#2a0001"),c=vw.Color.fromCssString("#fe0000"),d=vw.Color.fromCssString("#ffff01"),e=vw.Color.fromCssString("#ffffff");this.rampArr=this.makeRamp(b,c,6);for(var g=this.makeRamp(c,d,7),h=1;h<g.length;h++)this.rampArr.push(g[h]);for(var i=this.makeRamp(d,e,5),h=1;h<i.length;h++)this.rampArr.push(i[h]);break;case"COOL":var b=vw.Color.fromCssString("#01ffff"),c=vw.Color.fromCssString("#7788fe"),d=vw.Color.fromCssString("#ff00fe");this.rampArr=this.makeRamp(b,c,8);for(var g=this.makeRamp(c,d,9),h=1;h<g.length;h++)this.rampArr.push(g[h]);break;case"SPRING":var b=vw.Color.fromCssString("#ff00fe"),c=vw.Color.fromCssString("#ff7789"),d=vw.Color.fromCssString("#ffff01");this.rampArr=this.makeRamp(b,c,9);for(var g=this.makeRamp(c,d,8),h=1;h<g.length;h++)this.rampArr.push(g[h]);break;case"SUMMER":var b=vw.Color.fromCssString("#007e66"),c=vw.Color.fromCssString("#88c365"),d=vw.Color.fromCssString("#ffff67");this.rampArr=this.makeRamp(b,c,9);for(var g=this.makeRamp(c,d,8),h=1;h<g.length;h++)this.rampArr.push(g[h]);break;case"AUTUMN":var b=vw.Color.fromCssString("#fe0000"),c=vw.Color.fromCssString("#ff7701"),d=vw.Color.fromCssString("#ffff01");this.rampArr=this.makeRamp(b,c,9);for(var g=this.makeRamp(c,d,8),h=1;h<g.length;h++)this.rampArr.push(g[h]);break;case"WINTER":var b=vw.Color.fromCssString("#0000fe"),c=vw.Color.fromCssString("#0088ba"),d=vw.Color.fromCssString("#00ff7f");this.rampArr=this.makeRamp(b,c,9);for(var g=this.makeRamp(c,d,8),h=1;h<g.length;h++)this.rampArr.push(g[h]);break;case"GRAY":var b=vw.Color.fromCssString("#000000"),c=vw.Color.fromCssString("#ffffff");this.rampArr=this.makeRamp(b,c,16);break;case"BONE":var b=vw.Color.fromCssString("#010006"),c=vw.Color.fromCssString("#595f79"),d=vw.Color.fromCssString("#ffffff");this.rampArr=this.makeRamp(b,c,5);for(var g=this.makeRamp(c,d,12),h=1;h<g.length;h++)this.rampArr.push(g[h]);break;case"COPPER":var b=vw.Color.fromCssString("#000000"),c=vw.Color.fromCssString("#aa6a44"),d=vw.Color.fromCssString("#ffc780");this.rampArr=this.makeRamp(b,c,8);for(var g=this.makeRamp(c,d,9),h=1;h<g.length;h++)this.rampArr.push(g[h]);break;case"PINK":var b=vw.Color.fromCssString("#3c0000"),c=vw.Color.fromCssString("#cca78d"),d=vw.Color.fromCssString("#ffffff");this.rampArr=this.makeRamp(b,c,6);for(var g=this.makeRamp(c,d,11),h=1;h<g.length;h++)this.rampArr.push(g[h]);break;case"LINES":this.rampArr=new Array,this.rampArr.push(new vw.Color(0,0,254)),this.rampArr.push(new vw.Color(1,127,1)),this.rampArr.push(new vw.Color(254,0,0)),this.rampArr.push(new vw.Color(1,191,191)),this.rampArr.push(new vw.Color(191,0,191)),this.rampArr.push(new vw.Color(191,190,1)),this.rampArr.push(new vw.Color(63,63,63)),this.rampArr.push(new vw.Color(0,0,254)),this.rampArr.push(new vw.Color(1,127,1)),this.rampArr.push(new vw.Color(254,0,0)),this.rampArr.push(new vw.Color(1,191,191)),this.rampArr.push(new vw.Color(191,0,191)),this.rampArr.push(new vw.Color(191,190,1)),this.rampArr.push(new vw.Color(63,63,63)),this.rampArr.push(new vw.Color(0,0,254)),this.rampArr.push(new vw.Color(1,127,1))}},rampArr:null,initialize:function(a,b,c,d){if(1==arguments.length)a in vw.ColorRampType&&(this.createType(a),this.type=a);else if(3==arguments.length)if(a instanceof vw.Color&&b instanceof vw.Color&&c instanceof vw.ColorBreak){this.rampArr=this.makeRamp(a,c.color,c.position);for(var e=this.makeRamp(c.color,b,c.position),f=1;f<e.length+1;f++)this.rampArr.push(e[f])}else this.errorMessage=vw.Exception.errorStr.UNSUPPORTED_TYPE;else this.errorMessage=vw.Exception.errorStr.UNSUPPORTED_TYPE},getColor:function(a){return this.rampArr[a]}}),vw.ColorBreak=vw.Util.Class({position:null,color:null,initialize:function(a,b){b instanceof vw.Color?(this.position=a,this.color=b):this.errorMessage=vw.Exception.errorStr.UNSUPPORTED_TYPE},CLASS_NAME:"vw.ColorBreak"}),vw.ColorRampType={NONE:"NONE",JET:"JET",HSV:"HSV",HOT:"HOT",COOL:"COOL",SPRING:"SPRING",SUMMER:"SUMMER",AUTUMN:"AUTUMN",WINTER:"WINTER",GRAY:"GRAY",BONE:"BONE",COPPER:"COPPER",PINK:"PINK",LINES:"LINES"},vw.Collection=vw.Util.Class(vw.Object,{count:0,collectionProp:"",getCount:function(){return this.count},arrayInit:function(){""==this.collectionProp&&(this.collectionProp=new Array)},extend:function(a){this.arrayInit();for(var b=this.count,c=0;c<a.length;c++)this.collectionProp[b+c]=a[c];this.updateCount(),vw.Event(this,"onItemsChanged")},add:function(a){if(0==this.count&&this.arrayInit(),null==this.collectionType){var b=this.collectionProp.push(a);return this.updateCount(),setTimeout(function(c){vw.CollectionEvent.call(c,c,vw.EditType.INSERT,b,"",a)}(this),100),b}if(a instanceof this.collectionType){var b=this.collectionProp.push(a);return this.updateCount(),setTimeout(function(c){vw.CollectionEvent.call(c,c,vw.EditType.INSERT,b,"",a)}(this),100),b}},insert:function(a,b){return 0==this.count&&this.arrayInit(),null==this.collectionType?(a<0?this.collectionProp.unshift(b):a>=this.count?this.collectionProp.push(b):this.collectionProp.splice(a,0,b),setTimeout(function(c){vw.CollectionEvent.call(c,c,vw.EditType.INSERT,a,"",b)}(this),100),returnValue):b instanceof this.collectionType?(a<0?this.collectionProp.unshift(b):a>=this.count?this.collectionProp.push(b):this.collectionProp.splice(a,0,b),setTimeout(function(c){vw.CollectionEvent.call(c,c,vw.EditType.INSERT,a,"",b)}(this),100),returnValue):void this.updateCount()},update:function(a,b,c){0==this.count&&this.arrayInit(),null!=this.collectionType?b instanceof this.collectionType&&((a>0||a<this.count)&&(this.collectionProp[a]=b),c||setTimeout(function(c){vw.CollectionEvent.call(c,c,vw.EditType.UPDATE,a,this.collectionProp[a],b)}(this),100)):((a>0||a<this.count)&&(this.collectionProp[a]=b),c||setTimeout(function(c){vw.CollectionEvent.call(c,c,vw.EditType.UPDATE,a,this.collectionProp[a],b)}(this),100))},move:function(a,b){this.arrayInit();var c=null;return!(a<0||a>=this.count)&&(!(b<0||b>=this.count)&&(c=this.collectionProp[a],this.collectionProp[b]=vw.Util.unSafeClone(this.collectionProp[a]),this.removeAt(a),setTimeout(function(a){vw.CollectionEvent.call(a,a,vw.EditType.UPDATE,b,c,this.collectionProp[b])}(this),100),void 0))},switch:function(a,b){if(this.arrayInit(),a<0||a>=this.count)return!1;if(b<0||b>=this.count)return!1;var c=vw.Util.unSafeClone(this.collectionProp[a]);this.update(a,vw.Util.unSafeClone(this.collectionProp[b]),!0),this.update(b,c,!0),setTimeout(function(a){vw.Event.call(a,a,"onItemsChanged")}(this),100)},getArray:function(){return this.collectionProp},indexOf:function(a){for(var c=0;c<this.count;c++)if(this.collectionProp[c]==a)return c},item:function(a){return a<0||a>=this.count?null:this.collectionProp[a]},pop:function(){var a=null,b=null;return this.count>0&&(b=this.collectionProp[this.count],a=this.collectionProp.pop(),setTimeout(function(a){vw.CollectionEvent.call(a,a,vw.EditType.DELETE,this.count,b,"")}(this),100),this.updateCount()),a},remove:function(a){for(var b=null,c=null,d=0;d<this.count;d++)if(this.collectionProp[d]==a){c=this.collectionProp[d],setTimeout(function(a){vw.CollectionEvent.call(a,a,vw.EditType.DELETE,d,c,"")}(this),100),b=this.removeItem(d);break}return this.updateCount(),b},removeAt:function(a){var b=null,c=null;return a<0||a>=this.count?b:(c=this.collectionProp[a],setTimeout(function(b){vw.CollectionEvent.call(b,b,vw.EditType.DELETE,a,c,"")}(this),100),b=this.removeItem(a),this.updateCount(),b)},removeItem:function(a){var b=this.collectionProp.splice(a,1)[0];return this.updateCount(),b},clear:function(){this.collectionProp=new Array,this.updateCount(),setTimeout(function(a){vw.Event.call(a,a,"onClear")}(this),100)},updateCount:function(){this.count=this.collectionProp.length},eventList:{onPropertyChanged:"vw.PropertyChangedEvent",onItemChanged:"vw.CollectionEvent",onItemsChanged:"vw.Event",onClear:"vw.Event"},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.Collection;for(var b in this)a[b]=vw.Util.unSafeClone(this[b]);return a},collectionType:null,setCollectionType:function(a){null!=a&&"undifined"!=a&&(this.collectionType=a)},getCollectionType:function(){return this.collectionType},initialize:function(a,b){if(this.collectionProp=new Array,null!=a&&"undifined"!=a)for(var c=0;c<a.length;c++)this.collectionProp[c]=a[c];this.count=this.collectionProp.length,null!=b&&"undifined"!=b&&(this.collectionType=b)},CLASS_NAME:"vw.Collection"}),vw.NamedSet=vw.Util.Class(vw.Object,{count:0,getCount:function(){return this.count},clear:function(){this.userProperties={},this.updateCount()},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.NamedSet;for(var b in this)a[b]=vw.Util.unSafeClone(this[b]);return a},initialize:function(){this.count=0,this.userProperties=null},CLASS_NAME:"vw.NamedSet"}),vw.SiteAlignType={NONE:"NONE",TOP_LEFT:"TOP_LEFT",TOP_CENTER:"TOP_CENTER",TOP_RIGHT:"TOP_RIGHT",CENTER_LEFT:"CENTER_LEFT",CENTER_CENTER:"CENTER_CENTER",CENTER_RIGHT:"CENTER_RIGHT",BOTTOM_LEFT:"BOTTOM_LEFT",BOTTOM_CENTER:"BOTTOM_CENTER",BOTTOM_RIGHT:"BOTTOM_RIGHT"},vw.EditType={NONE:"NONE",INSERT:"INSERT",UPDATE:"UPDATE",DELETE:"DELETE"},vw.EventSupporter={},vw.EventSupporter.addEventListener=function(a,b,c,d){if(b in a.eventList&&"function"==typeof d){var e=vw.EventSupporter.getEventId(a.CLASS_NAME);return a.eventStorage?a.eventStorage[e]={eventKey:e,type:b,onceFlag:c,listener:d}:(a.eventStorage={},a.eventStorage[e]={eventKey:e,type:b,onceFlag:c,listener:d}),e}return vw.Exception.errorStr.UNSUPPORTED_TYPE},vw.EventSupporter.removeEventListener=function(a,b,c,d){if(!a.eventStorage)return!1;var e=null;if(b){for(var f=Object.keys(a.eventStorage).length,g=0;g<f;g++)if(a.eventStorage[Object.keys(a.eventStorage)[g]].listener==c&&a.eventStorage[Object.keys(a.eventStorage)[g]].type==b){e=Object.keys(a.eventStorage)[g];break}}else d&&(e=d);return null!=e&&void delete a.eventStorage[e]},vw.EventSupporter.getEventId=function(a){var b="event_"+a+"_"+vw.EventSupporter.EventSeq;return vw.EventSupporter.EventSeq++,b},vw.EventSupporter.EventSeq=0,vw.EventSupporter.createEventScript=function(a,b,c,d,e){var f,g=document.createElement("script"),h="";if("vw.Event"===e)h="vw.Event(vw.StaticMap,'"+d+"')";else if("vw.KeyEvent"===e)h="vw.KeyEvent(vw.StaticMap,'"+d+"',kCode, nShift);";else if("vw.MapEvent"===e)h="vw.MapEvent(vw.StaticMap,'"+d+"',"+c.join(",")+");";else if("vw.SelectEvent"===e)h="vw.SelectEvent(vw.StaticMap,'"+d+"',"+c.join(",")+");";else if("vw.ChangedEvent"===e&&"eventSOPEventCamMoveEnd"==b)for(var i=0;i<d.length;i++)h=h+"vw.ChangedEvent(vw.StaticMap.lookat,'"+d[i]+"',"+c.join(",")+");";f=document.getElementsByTagName("head")[0],g.setAttribute("language","javascript"),g.setAttribute("for",a),g.setAttribute("event",b+"("+c.join(",")+")"),g.setAttribute("text",h),g.text!=h&&(g.text=h),f.appendChild(g)},vw.Event=function(a,b){if("onTargetChanged"===b)return vw.Exception.errorStr.UNSUPPORTED_TYPE;if(a.eventStorage)for(var c="",d=0;d<Object.keys(a.eventStorage).length;d++)c=Object.keys(a.eventStorage)[d],a.eventStorage[c].type==b&&(a.eventStorage[c].onceFlag?(a.eventStorage[c].listener(a),delete a.eventStorage[c]):a.eventStorage[c].listener(a))},vw.ChangedEvent=function(a,b,c,d){if(a.eventStorage){var e="";if(a instanceof vw.Lookat){c=vw.StaticMap.lookat.precenter,d=vw.StaticMap.lookat.center;for(var f=0;f<Object.keys(a.eventStorage).length;f++)e=Object.keys(a.eventStorage)[f],a.eventStorage[e].type===b&&(a.eventStorage[e].onceFlag?(a.eventStorage[e].listener(a,c,d),delete a.eventStorage[e]):a.eventStorage[e].listener(a,c,d))}else for(var f=0;f<Object.keys(a.eventStorage).length;f++)e=Object.keys(a.eventStorage)[f],a.eventStorage[e].type===b&&(a.eventStorage[e].onceFlag?(a.eventStorage[e].listener(a,c,d),delete a.eventStorage[e]):a.eventStorage[e].listener(a,c,d))}},vw.PropertyChangedEvent=function(a,b,c,d){if(a.eventStorage)for(var e="",f=0;f<Object.keys(a.eventStorage).length;f++)e=Object.keys(a.eventStorage)[f],"onPropertyChanged"==a.eventStorage[e].type&&(a.eventStorage[e].onceFlag?(a.eventStorage[e].listener(a,b,c,d),delete a.eventStorage[e]):a.eventStorage[e].listener(a,b,c,d))},vw.CollectionEvent=function(a,b,c,d,e){if(a.eventStorage)for(var f="",g=0;g<Object.keys(a.eventStorage).length;g++)f=Object.keys(a.eventStorage)[g],"onItemChanged"==a.eventStorage[f].type&&(a.eventStorage[f].onceFlag?(a.eventStorage[f].listener.apply(a,[a,b,c,d,e]),delete a.eventStorage[f]):a.eventStorage[f].listener.apply(a,[a,b,c,d,e]))},vw.MapEvent=function(a,b,c,d,e,f,g,h,i,j,k){if(a.eventStorage)for(var l="",m=0;m<Object.keys(a.eventStorage).length;m++)if(l=Object.keys(a.eventStorage)[m],a.eventStorage[l].type==b){var n=null,o=new vw.CoordZ(h,i,j),p=0,q=!1,r=!1,s=!1,t=!1;if("onMouseWheel"===b)n=new vw.Pixel(e,f),p=d,q=!1,r=!1,s=!1,t=!1;else switch(n=new vw.Pixel(f,g),p=0,k){case 1:r=!0;break;case 2:q=!0;break;case 3:r=!0,q=!0;break;case 4:s=!0;break;case 5:r=!0,s=!0;break;case 6:r=!0,q=!0,s=!0}a.eventStorage[l].onceFlag?(a.eventStorage[l].listener.apply(a,[a,n,o,p,q,r,s,t]),delete a.eventStorage[l]):a.eventStorage[l].listener.apply(a,[a,n,o,p,q,r,s,t])}},vw.SelectEvent=function(a,b,c,d,e,f,g,h,i,j,k){if(a.eventStorage)for(var l="",m=0;m<Object.keys(a.eventStorage).length;m++)if(l=Object.keys(a.eventStorage)[m],a.eventStorage[l].type==b){var n=null,o=new vw.CoordZ(h,i,j),p=0,q=!1,r=!1,s=!1,t=!1;switch(n=new vw.Pixel(f,g),p=0,k){case 1:r=!0;break;case 2:q=!0;break;case 3:r=!0,q=!0;break;case 4:s=!0;break;case 5:r=!0,s=!0;break;case 6:r=!0,q=!0,s=!0}a.eventStorage[l].onceFlag?(a.eventStorage[l].listener.apply(a,[a,n,o,p,q,r,s,t,d,e]),delete a.eventStorage[l]):a.eventStorage[l].listener.apply(a,[a,n,o,p,q,r,s,t,d,e])}},vw.KeyEvent=function(a,b,c,d){if(a.eventStorage)for(var e="",f=0;f<Object.keys(a.eventStorage).length;f++)if(e=Object.keys(a.eventStorage)[f],"onKeyPress"==a.eventStorage[e].type){var g=c,h=!1,i=d,j=!1,k=!1;a.eventStorage[e].onceFlag?(a.eventStorage[e].listener.apply(a,[a,g,h,i,j,k]),delete a.eventStorage[e]):a.eventStorage[e].listener.apply(a,[a,g,h,i,j,k])}},vw.BasemapType={GRAPHIC:"GRAPHIC",GRAPHIC_GRAY:"UNSUPPORTED_3D",GRAPHIC_NIGHT:"UNSUPPORTED_3D",PHOTO:"UNSUPPORTED_3D",PHOTO_HYBRID:"UNSUPPORTED_3D"},vw.DensityType={EMPTY:"EMPTY",BASIC:"BASIC",FULL:"FULL"},vw.CRS={code:"EPSG:4326"},vw.MapOptions=vw.Util.Class({basemapType:vw.BasemapType.GRAPHIC,layers:"",controlsDensity:vw.DensityType.BASIC,interactionsDensity:vw.DensityType.BASIC,homePosition:{},initPosition:{},initialize:function(a,b,c,d,e,f){null!=a&&""!=a&&(this.basemapType=a),null!=b&&""!=b&&(this.layers=b),null!=c&&""!=c&&(this.controlsDensity=c),null!=d&&""!=d&&(this.interactionsDensity=d),null!=e&&""!=e&&(this.homePosition=e),null!=f&&""!=f&&(this.initPosition=f)},CLASS_NAME:"vw.MapOptions"}),vw.StaticMap=null,vw.Map=vw.Util.Class(vw.Object,{container:null,containerAttr:{width:"",height:"",top:"",left:""},globe:null,layers:{},overlays:vw.Exception.errorStr.UNSUPPORTED_YET,control:{},interactions:null,camera:{},lookat:{},crs:"EGPS:4326",isFullScreen:!1,_XDcom:{},options:{},getSize:function(){return[this.container.getBoundingClientRect().width,this.container.getBoundingClientRect().height]},setFocus:function(){this._XDcom.setPluginFocus()},showFileDlg:function(a,b,c){var d=this._XDcom.getUtil();return d.showFileDlg(a,b,c)},saveScreenImg:function(){var a=this._XDcom.getUtil(),b=this.showFileDlg(!0,"화면 이미지 저장","PNG Image File (*.png)|*.png|Bitmap Image File (*.bmp)|*.bmp| Jpeg Image File (*.jpg)|*.jpg|");b.length>0&&a.saveScreenImg(b)},getContainer:function(){return this.container},getGlobe:function(){return this.globe},getLayers:function(){return this.layers},getOverlays:function(){return this.overlays},getControl:function(){return this.control},getInteractions:function(){return this.interactions},getCamera:function(){return this.camera},getLookat:function(){return this.lookat},getCrs:function(){return this.crs},setIsFullScreen:function(a){a?(this.container.style.position="absolute",this.container.style.marginLeft="-"+this.container.getBoundingClientRect().left+"px",this.container.style.marginTop="-"+this.container.getBoundingClientRect().top+"px",this.container.style.width=window.innerWidth-4+"px",this.container.style.height=window.innerHeight-4+"px"):(this.container.style.marginLeft=this.containerAttr.left,this.container.style.marginTop=this.containerAttr.top,this.container.style.width=this.containerAttr.width,this.container.style.height=this.containerAttr.height,this.container.style.position="relative"),this._XDcom.getView().updateRTT(),this.isFullScreen=a},getIsFullScreen:function(){return this.isFullScreen},eventList:{onPropertyChanged:"vw.PropertyChangedEvent",onTargetChanged:"vw.Event",onSizeChanged:"vw.Event",onClick:"vw.MapEvent",onDoubleClick:"vw.MapEvent",onRightClck:"vw.MapEvent",onRightDoubleClck:"vw.MapEvent",onMouseWheel:"vw.MapEvent",onMouseMove:"vw.MapEvent",onMouseIn:"vw.MapEvent",onMouseOut:"vw.MapEvent",onDragStart:"vw.MapEvent",onDrag:"vw.MapEvent",onDragEnd:"vw.MapEvent",onKeyPress:"vw.KeyEvent",onLMouseDown:"vw.SelectEvent",onLMouseUp:"vw.SelectEvent"},initOptions:function(){this.lookat=new vw.Lookat(this._XDcom.getViewCamera()),this.control=new vw.Controls(this.options.controlsDensity),this.interactions=new vw.Interactions(this.options.interactionsDensity),this.lookat.home=this.options.homePosition,this.lookat.moveTo(this.options.initPosition)},get_XDcom:function(a){return this._XDcom},pixelToCoord:function(a){var b=this._XDcom.createVec2();b.set(a.x,a.y);var c=this._XDcom.getView().ScreenToMapPointEX(b);return new vw.Coord(c.longitude,c.latitude)},pixelToCoordZ:function(a){var b=this._XDcom.createVec2();b.set(a.x,a.y);var c=this._XDcom.getView().ScreenToMapPointEX(b);return new vw.Coord(c.longitude,c.latitude,c.altitude)},coordToPixel:function(a){var b=this._XDcom.createVec3();b.set(a.x,a.y,vw.Util.getTerrHeight(a.x,a.y));var c=this._XDcom.getView().MapToScreenPointEX(b);return new vw.Pixel(c.x,c.y)},screenExtentToMapExtent:function(a){return vw.Exception.errorStr.UNSUPPORTED_3DMAP},updateSize:function(){this.containerAttr.width=this.container.style.width,this.containerAttr.height=this.container.style.height,this.containerAttr.top=this.container.getBoundingClientRect().top,this.containerAttr.left=this.container.getBoundingClientRect().left,this._XDcom.getView().updateRTT()},clear:function(){this.interactions.setExclusive(null),this._XDcom.getView().clearInputPoint(),this._XDcom.getView().clearSelectObj(),this._XDcom.getAnalysis().clear(),this._XDcom.getView().updateRTT()},initEvent:function(){for(var a=[["eventSOPEventResize",[],"onSizeChanged","vw.Event"],["KeyDown",["kCode","nShift"],"onKeyPress","vw.KeyEvent"],["eventSOPEventClick",["object","targetObj","layObj","x","y","lon","lat","alt","keyvalue"],"onClick","vw.MapEvent"],["eventSOPEventMouseDown",["object","targetObj","layObj","x","y","lon","lat","alt","keyvalue"],"onLMouseDown","vw.SelectEvent"],["eventSOPEventMouseUp",["object","targetObj","layObj","x","y","lon","lat","alt","keyvalue"],"onLMouseUp","vw.SelectEvent"],["eventSOPEventDBlClick",["object","targetObj","layObj","x","y","lon","lat","alt","keyvalue"],"onDoubleClick","vw.MapEvent"],["eventSOPEventRMouseDown",["object","targetObj","layObj","x","y","lon","lat","alt","keyvalue"],"onRightClck","vw.MapEvent"],["MouseWheel",["iflag","range","x","y"],"onMouseWheel","vw.MapEvent"],["eventSOPEventMouseMove",["object","targetObj","layObj","x","y","lon","lat","alt","keyvalue"],"onMouseMove","vw.MapEvent"],["eventSOPEventMouseOver",["object","targetObj","layObj","x","y","lon","lat","alt","keyvalue"],"onMouseIn","vw.MapEvent"],["eventSOPEventMouseOut",["object","targetObj","layObj","x","y","lon","lat","alt","keyvalue"],"onMouseOut","vw.MapEvent"]],b=0;a.length>b;b++)vw.EventSupporter.createEventScript("XDcom",a[b][0],a[b][1],a[b][2],a[b][3])},clone:function(){return vw.Exception.errorStr.UNSUPPORTED_3DMAP},initialize:function(a,b){var c={};if(arguments.length<1)return!1;if(1===arguments.length||!b instanceof vw.MapOptions){if("object"==typeof a)return vw.Exception.errorStr.UNSUPPORTED_TYPE;c=vw.BasicOptions}else c=b;this.options=vw.Util.extend({},c),vw.loader.createInstance(a,function(a,b){a._XDcom=b,a.initOptions(),a.globe=new vw.Globe,a.initEvent.apply(a),a.layers=new vw.Layers},function(a,b){return alert("errorCode : "+a+", \n errorMessage : "+b),!1},this),this._XDcom=null,this.container=document.getElementById(a),this.containerAttr.width=this.container.style.width,this.containerAttr.height=this.container.style.height,vw.StaticMap=this},CLASS_NAME:"vw.Map"}),vw.Globe=vw.Util.Class(vw.Object,{timer:null,sun:null,moon:null,light:null,effects:null,getSurfacePoint:function(a){return new vw.Coord},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.Globe;for(var b in this)a[b]=vw.Util.unSafeClone(this[b]);return a},initialize:function(){this.timer=new vw.GlobeTimer,this.sun=new vw.Sun,this.moon=new vw.Moon,this.Light=new vw.Light,this.effects=new vw.Effects},CLASS_NAME:"vw.Globe"}),vw.GlobeTimer=vw.Util.Class(vw.Object,{enabled:!1,interval:1,currentTime:null,useSystemTime:!1,startTime:null,endTime:null,multiplier:60,setEnabled:function(a){this.endabled=a},getEnabled:function(){return this.enabled},setInterval:function(a){this.interval=a},getInterval:function(){return this.interval},setCurrentTime:function(a){this.currentTime=a},getCurrentTime:function(){return this.currentTime},setUseSystemTime:function(a){this.useSystemTime=a},getUseSystemTime:function(){return this.useSystemTime},setStartTime:function(a){this.startTime=a},getStartTime:function(){return this.startTime},setEndTime:function(a){this.endTime=a},getEndTime:function(){return this.endTime},setMultiplier:function(a){this.multiplier=a},getMultiplier:function(){return this.multiplier},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.Timer;for(var b in this)a[b]=vw.Util.unSafeClone(this[b]);return a},initialize:function(){},EventType:{onTick:""},CLASS_NAME:"vw.Timer"}),vw.Sun=vw.Util.Class(vw.Object,{visible:!1,glow:1,clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.Sun;for(var b in this)a[b]=vw.Util.unSafeClone(this[b]);return a},setVisible:function(a){this.visible=a},getVisible:function(){return this.visible},setGlow:function(a){this.glow=a},getGlow:function(){return this.glow},initialize:function(){},CLASS_NAME:"vw.Sun"}),vw.Moon=vw.Util.Class(vw.Object,{visible:!1,phase:.5,setVisible:function(a){this.visible=a},getVisible:function(){return this.visible},setPhase:function(a){this.phase=a},getPhase:function(){return this.phase},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.Moon;for(var b in this)a[b]=vw.Util.unSafeClone(this[b]);return a},initialize:function(){},CLASS_NAME:"vw.Moon"}),vw.Light=vw.Util.Class({enabled:!1,setEnabled:function(a){this.enabled=a},getEnabled:function(){return this.enabled},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.Light;for(var b in this)a[b]=vw.Util.unSafeClone(this[b]);return a},initialize:function(){},CLASS_NAME:"vw.Light"}),vw.Camera=vw.Util.Class(vw.Object,{cameraObj:null,home:null,zoom:vw.Exception.errorStr.UNSUPPORTED_3DMAP,rotation:vw.Exception.errorStr.UNSUPPORTED_3DMAP,minZoom:vw.Exception.errorStr.UNSUPPORTED_3DMAP,maxZoom:vw.Exception.errorStr.UNSUPPORTED_3DMAP,location:{},direction:{},minAltitude:{},maxAltitude:{},animation:{},action:{},canMoveUnderTerrain:{},distance:{},lookat:{},reset:function(){if(null==this.cameraObj||null==this.home||"vw.CameraPosition"!=this.home.CLASS_NAME)return vw.Exception.errorStr.UNSUPPORTED_TYPE;var a=vw.StaticMap._XDcom.createVec3();a.longitude=this.home.location.x,a.latitude=this.home.location.y,a.altitude=this.home.location.z,this.cameraObj.moveDist(a,this.home.direction.tilt,this.home.direction.heading,this.home.location.z,0)},move:function(a,b){},moveTo:function(a){if(null!=this.cameraObj&&a instanceof vw.CameraPosition){var b=vw.StaticMap._XDcom.createVec3();b.longitude=a.location.x,b.latitude=a.location.y,b.altitude=a.location.z,this.cameraObj.moveDist(b,a.direction.tilt,a.direction.heading,a.location.z,10)}else vw.Exception.setErrorString(vw.Exception.errorStr.UNSUPPORTED_TYPE)},lookTo:function(a){},moveToLook:function(a,b){},zoom:function(a){},rotate:function(a){},eventType:{onCenterChanged:"",onZoomChanged:"",onRotationChanged:"",onMoveEnd:"",onRotationEnd:""},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.Camera;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a){this.cameraObj=a},CLASS_NAME:"vw.Camera"}),vw.CameraPosition=vw.Util.Class({center:vw.Exception.errorStr.UNSUPPORTED_3DMAP,zoom:vw.Exception.errorStr.UNSUPPORTED_3DMAP,rotation:vw.Exception.errorStr.UNSUPPORTED_3DMAP,location:null,direction:null,initialize:function(a,b){this.location=a instanceof vw.CoordZ?a:vw.Exception.errorStr.UNSUPPORTED_TYPE,this.direction=b instanceof vw.Direction?b:vw.Exception.errorStr.UNSUPPORTED_TYPE},CLASS_NAME:"vw.CameraPosition"}),vw.DevicePosition=vw.Util.Class({location:null,direction:null,initialize:function(a,b){this.location=a instanceof vw.CoordZ?a:vw.Exception.errorStr.UNSUPPORTED_TYPE,this.direction=b instanceof vw.Direction?b:vw.Exception.errorStr.UNSUPPORTED_TYPE},CLASS_NAME:"vw.DevicePosition"}),vw.Direction=vw.Util.Class(vw.Object,{heading:null,tilt:null,roll:null,setHeading:function(a){this.heading=a},getHeading:function(){return this.heading},setTilt:function(a){this.tilt=a},getTilt:function(){return this.tilt},setRoll:function(a){this.roll=a},getRoll:function(){return this.roll},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.Direction(this.heading,this.tilt,this.roll);for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a,b,c){this.heading=isNaN(parseFloat(a))?vw.Exception.errorStr.UNSUPPORTED_TYPE:parseFloat(a),this.tilt=isNaN(parseFloat(b))?vw.Exception.errorStr.UNSUPPORTED_TYPE:parseFloat(b),this.roll=isNaN(parseFloat(c))?vw.Exception.errorStr.UNSUPPORTED_TYPE:parseFloat(c)},CLASS_NAME:"vw.Direction"}),vw.Direction.fromRadians=function(a,b,c){var d=new vw.Direction(a,b,c);return d},vw.Ray=vw.Util.Class(vw.Object,{origin:null,direction:null,setOrigin:function(){this.origin=pOrigin instanceof vw.CoordZ?pOrigin:vw.Exception.errorStr.UNSUPPORTED_TYPE},getOrigin:function(){return this.origin},setDirection:function(){this.direction=pDirection instanceof vw.Direction?pDirection:vw.Exception.errorStr.UNSUPPORTED_TYPE},getDirection:function(){return this.direction},getPointByDistance:function(a){if(null==a&&isNaN(parseFloat(a)))return vw.Exception.errorStr.UNSUPPORTED_TYPE;var b=vw.StaticMap._XDcom.createVec3();b.set(this.origin.x,this.origin.y,this.origin.z);var c=vw.StaticMap._XDcom.getViewCamera().getRayPosition(b,this.direction.heading,this.direction.tilt,a);return new vw.CoordZ(c.longitude,c.latitude,c.altitude)},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.Ray(this.origin,this.direction);for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a,b){this.origin=a instanceof vw.CoordZ?a:vw.Exception.errorStr.UNSUPPORTED_TYPE,this.direction=b instanceof vw.Direction?b:vw.Exception.errorStr.UNSUPPORTED_TYPE},CLASS_NAME:"vw.Ray"}),vw.Lookat=vw.Util.Class(vw.Object,{cameraObj:null,home:null,center:null,precenter:null,location:null,direction:null,minDistance:null,maxDistance:null,mover:null,action:null,canMoveUnderTerrain:null,distance:null,zoomLevel:null,getZoomLevel:function(){return this.cameraObj.getMapZoomLevel()},getCenter:function(){return this.center},getDirection:function(){return new vw.Direction(this.cameraObj.getDirect(),this.cameraObj.getTilt(),0)},reset:function(){if(null!=this.cameraObj&&null!=this.home&&"vw.CameraPosition"==this.home.CLASS_NAME){var a=vw.StaticMap._XDcom.createVec3();a.longitude=this.home.location.x,a.latitude=this.home.location.y,a.altitude=this.home.location.z,this.cameraObj.moveDist(a,this.home.direction.tilt,this.home.direction.heading,this.home.location.z,0)}else this.errorMessage=vw.Exception.errorStr.UNSUPPORTED_TYPE},moveTo:function(a){if(null!=this.cameraObj&&a instanceof vw.CameraPosition){var b=vw.StaticMap._XDcom.createVec3();b.longitude=a.location.x,b.latitude=a.location.y,b.altitude=a.location.z,this.cameraObj.moveDist(b,a.direction.tilt,a.direction.heading,a.location.z,10)}else vw.Exception.setErrorString(vw.Exception.errorStr.UNSUPPORTED_TYPE)},moveToLook:function(a,b){if(null!=this.cameraObj&&pPosition instanceof vw.CameraPosition){var c=vw.StaticMap._XDcom.createVec3();c.longitude=pPosition.location.x,c.latitude=pPosition.location.y,c.altitude=pPosition.location.z,this.cameraObj.moveDist(c,pPosition.direction.tilt,pPosition.direction.heading,pPosition.location.z,10)}else vw.Exception.setErrorString(vw.Exception.errorStr.UNSUPPORTED_TYPE)},zoom:function(a){var b=this.cameraObj.getDistance();b+=a,this.cameraObj.setDistance(b)},setZoom:function(a){this.cameraObj.setDistance(a)},getZoom:function(){return this.cameraObj.getDistance()},rotate:function(a){var b=a.heading,c=a.tilt,d=a.roll,e=this.cameraObj;if(0!==b&&null!==b){var f=e.getDirect();f+=b,e.setDirect(f)}if(0!==c&&null!==c){var g=e.getTilt();g+=c,e.setTilt(g)}if(0!==d&&null!==d){var g=e.getTilt();g+=c,e.setTilt(g)}},getSurfacePoint:function(){var a=this.cameraObj.getCenterPoint();return new vw.CoordZ(a.longitude,a.latitude,a.altitude)},validate:function(){return!0},eventList:{onPropertyChanged:"vw.PropertyChangedEvent",
onCenterChanged:"vw.ChangedEvent",onMoveEnd:"vw.ChangedEvent",onRotationEnd:"vw.ChangedEvent"},initEvent:function(){for(var a=[["eventSOPEventCamMoveEnd",["object"],["onMoveEnd","onRotationEnd","onCenterChanged"],"vw.ChangedEvent"]],b=0;a.length>b;b++)vw.EventSupporter.createEventScript("XDcom",a[b][0],a[b][1],a[b][2],a[b][3]);this.on("onCenterChanged",function(){var a=vw.StaticMap.lookat.cameraObj.getCenterPoint();null!=a&&(vw.StaticMap.lookat.precenter=vw.StaticMap.lookat.center,vw.StaticMap.lookat.center=new vw.Coord(a.longitude,a.latitude))})},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.Lookat;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a){this.cameraObj=a;var b=this.cameraObj.getCenterPoint();this.center=new vw.Coord(b.longitude,b.latitude),this.initEvent()},CLASS_NAME:"vw.Lookat"}),vw.cameraAction={},vw.cameraAction.CameraAction=vw.Util.Class(vw.Object,{start:function(){},stop:function(){},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.cameraAction.CameraAction;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.cameraAction.CameraAction"}),vw.cameraAction.Fly=vw.Util.Class(vw.cameraAction.CameraAction,{speed:0,headingSpeed:0,tiltSpeed:0,rollSpeed:0,_flight:null,setSpeed:function(a){this._flight.setThrottle(.05*a),this.speed=a,vw.StaticMap.setFocus()},getSpeed:function(){return this.speed},setHeadingSpeed:function(a){vw.StaticMap.setFocus(),this._flight.setYawDelta(a),this.headingSpeed=a},getHeadingSpeed:function(){return this.headingSpeed},setTiltSpeed:function(a){this._flight.setPitchDelta(a),this.tiltSpeed=a},getTiltSpeed:function(){return this.tiltSpeed},setRollSpeed:function(a){this._flight.setRollDelta(a),this.rollSpeed=a},getRollSpeed:function(){return this.rolltSpeed},start:function(){this._flight.setMode(1),this._flight.setViewHUD(!1),this._flight.setPlane(0),this._drive.setGroundMode(!1,10),vw.StaticMap.setFocus()},stop:function(){this._flight.setMode(0),vw.StaticMap.setFocus()},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.cameraAction.Fly;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this._flight=vw.StaticMap._XDcom.getFlightSimul()},CLASS_NAME:"vw.cameraAction.Fly"}),vw.cameraAction.Drive=vw.Util.Class(vw.cameraAction.CameraAction,{speed:0,headingSpeed:0,height:0,_drive:null,setSpeed:function(a){this._drive.setThrottle(.01*a),this.speed=a,vw.StaticMap.setFocus()},getSpeed:function(){return this.speed},setHeadingSpeed:function(a){vw.StaticMap.setFocus();var b=Math.abs(a);if(a>0)for(var c=0;c<b;c++)this._drive.moveYawRight();else for(var c=0;c<b;c++)this._drive.moveYawLeft();vw.StaticMap.setFocus(),this.headingSpeed=a},getHeadingSpeed:function(){return this.headingSpeed},setHeight:function(a){this._drive.setElevalDelta(a),this.tiltSpeed=a,vw.StaticMap.setFocus()},getHeight:function(){return this.tiltSpeed},start:function(){this._drive.setMode(1),this._drive.setViewHUD(!1),this._drive.setPlane(0),this._drive.setGroundMode(!0,10),vw.StaticMap.setFocus()},stop:function(){this._drive.setMode(0),vw.StaticMap.setFocus()},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.cameraAction.Drive;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this._drive=vw.StaticMap._XDcom.getFlightSimul()},CLASS_NAME:"vw.cameraAction.Drive"}),vw.cameraAction.Drive2=vw.Util.Class(vw.cameraAction.CameraAction,{speed:null,headingSpeed:null,height:null,clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.cameraAction.Drive;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.cameraAction.Drive"}),vw.cameraAction.Roll=vw.Util.Class(vw.cameraAction.CameraAction,{position:null,headingSpeed:6,tiltSpeed:0,directionBound:null,elevationSpeed:0,elevationBound:null,_roll:null,setPosition:function(a){if(null!=a&&a instanceof vw.DevicePosition){var b=vw.StaticMap._XDcom.createVec3();b.set(a.location.x,a.location.y,a.location.z+5),this._roll.setRollPos(b),this.position=a,vw.StaticMap.setFocus()}},getPosition:function(){return this.position},setHeadingSpeed:function(a){this.headingSpeed=a,this.setOption()},getHeadingSpeed:function(){return this.headingSpeed},setTiltSpeed:function(a){this.tiltSpeed=a,this.setOption()},getTiltSpeed:function(){return this.tiltSpeed},setElevationSpeed:function(a){this.elevationSpeed=a,this.setOption()},getElevationSpeed:function(){return this.elevationSpeed},setOption:function(a){var b=this.getHeadingSpeed(),c=this.getTiltSpeed(),d=this.getElevationSpeed();this._roll.setRollMoveDelta(b,c,d)},start:function(){this._roll.setPlayRoll(!0),vw.StaticMap.setFocus()},stop:function(){this._roll.setPlayRoll(!1),vw.StaticMap.setFocus()},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.cameraAction.Roll(this.position);for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a){this._roll=vw.StaticMap._XDcom.getAnalysis(),null!=a&&this.setPosition(a),this.setOption()},CLASS_NAME:"vw.cameraAction.Roll"}),vw.cameraAction.Rotate=vw.Util.Class(vw.cameraAction.CameraAction,{target:null,distance:null,direction:null,speed:null,_camera:null,setTarget:function(a){null!=a&&a instanceof vw.CoordZ&&(this.target=a)},getTarget:function(){return this.target},setDistance:function(a){this.distance=a,vw.StaticMap.setFocus()},getDistance:function(){return this.distance},setDirection:function(a){vw.StaticMap.setFocus(),this.direction=a},getDirection:function(){return this.direction},setSpeed:function(a){this.speed=a,vw.StaticMap.setFocus()},getSpeed:function(){return this.speed},start:function(){if(null!=this.target){var a=vw.StaticMap._XDcom.createVec3();a.set(this.target.x,this.target.y,this.target.z),this._camera.moveDist(a,this.getDirection().getTilt(),this.getDirection().getHeading(),this.distance,0),vw.StaticMap.setFocus(),setTimeout(function(a,b){a.setRotateAction(b,!0),vw.StaticMap.setFocus()}(this._camera,this.getSpeed()),500)}},stop:function(){this._camera.setRotateStop(),vw.StaticMap.setFocus()},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.cameraAction.Around(this.target,this.direction);for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a,b){null!=a&&a instanceof vw.CoordZ&&(this.target=a),null!=b?this.distance=b:this.distance=200,this.speed=6,this.direction=new vw.Direction(0,60,0),this._camera=vw.StaticMap._XDcom.getViewCamera()},CLASS_NAME:"vw.cameraAction.Rotate"}),vw.cameraAction.Path=vw.Util.Class({points:null,directionType:null,turnAround:null,loops:null,speed:null,clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.cameraAction.Path;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.cameraAction.Path"}),vw.cameraAction.DirectionType={BY_POINTS:"1",LOOK_FORWARD:"2",FIXED_HEADING:"3"},vw.cameraMover=function(){},vw.cameraMover.Easing={LINEAR:0,IN:1,OUT:2,INOUT:3,UPDOWN:4},vw.cameraMover.CameraMover=vw.Util.Class(vw.Object,{duration:500,easing:vw.cameraMover.Easing.INOUT,clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.cameraMover.CameraMover;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.cameraMover.CameraMover"}),vw.cameraMover.Linear=vw.Util.Class(vw.cameraMover.CameraMover,{clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.cameraMover.Linear;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.cameraMover.Linear"}),vw.cameraMover.Curve=vw.Util.Class(vw.cameraMover.CameraMover,{clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.cameraMover.Curve;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.cameraMover.Curve"}),vw.Effects=vw.Util.Class(vw.NamedSet,{vwMapCl:null,remove:function(a){"snow"==a?this.vwMapCl.stopWeather():"rain"==a?this.vwMapCl.stopWeather():"fog"==a&&this.vwMapCl.setFogDefault(),delete this.userProperties[a]},start:function(){for(var a=this.getNames(),b=0;b<a.length;b++){var c=this.get(a[b]);c.enabled||("snow"==a[b]?this.vwMapCl.stopWeather():"rain"==a[b]?this.vwMapCl.stopWeather():"fog"==a[b]&&this.vwMapCl.setFogDefault())}for(var b=0;b<a.length;b++){var c=this.get(a[b]);if(c.density>1&&(c.density=1),c.enabled)if("snow"==a[b]){var d=2*c.density,e=1.5*c.density;this.vwMapCl.setSnowImg("C:\\Program Files\\EGIS\\XDWorld\\Icon\\snow_2.png"),this.vwMapCl.startWeather(0,e,d)}else if("rain"==a[b]){var f=2*c.density,g=1.5*c.density;this.vwMapCl.setRainImg("C:\\Program Files\\EGIS\\XDWorld\\Icon\\rain_7_40.png"),this.vwMapCl.startWeather(1,g,f)}else if("fog"==a[b]){var h=3*c.density,i=c.color,j=vw.StaticMap._XDcom.createColor();j.setARGB(i.a,i.r,i.g,i.g),this.vwMapCl.setFogLimitAltitude(c.limitAltitude),this.vwMapCl.setFog(j,h)}}},stop:function(){this.vwMapCl.setFogDefault(),this.vwMapCl.stopWeather()},initialize:function(){this.vwMapCl=vw.StaticMap._XDcom.getView()},CLASS_NAME:"vw.Effects"}),vw.effect=function(){},vw.effect.Effect=vw.Util.Class(vw.Object,{enabled:!1,clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.effect.Effect;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.effect.Effect"}),vw.effect.Snow=vw.Util.Class(vw.effect.Effect,{density:.5,clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.effect.Snow(this.density);for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a){null!=vw.StaticMap?!isNaN(parseFloat(a))&&parseFloat(a)>=0&&parseFloat(a)<=1?(this.density=a,vw.StaticMap.globe.effects.set("snow",this)):this.errorMessage=vw.Exception.errorStr.UNSUPPORTED_TYPE:this.errorMessage=vw.Exception.errorStr.INVALID_MAP_OBJECT},CLASS_NAME:"vw.effect.Snow"}),vw.effect.Rain=vw.Util.Class(vw.effect.Effect,{density:.5,clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.effect.Rain(this.density);for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a){null!=vw.StaticMap?!isNaN(parseFloat(a))&&parseFloat(a)>=0&&parseFloat(a)<=1?(this.density=a,vw.StaticMap.globe.effects.set("rain",this)):this.errorMessage=vw.Exception.errorStr.UNSUPPORTED_TYPE:this.errorMessage=vw.Exception.errorStr.INVALID_MAP_OBJECT},CLASS_NAME:"vw.effect.Rain"}),vw.effect.Fog=vw.Util.Class(vw.effect.Effect,{density:.5,color:vw.Color.WHITE,limitAltitude:5e4,clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.effect.Fog(this.density,this.color);for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a,b){null!=vw.StaticMap?1==arguments.length?!isNaN(parseFloat(a))&&parseFloat(a)>=0&&parseFloat(a)<=1?(this.density=a,vw.StaticMap.globe.effects.set("fog",this)):this.errorMessage=vw.Exception.errorStr.UNSUPPORTED_TYPE:2==arguments.length&&(!isNaN(parseFloat(a))&&parseFloat(a)>=0&&parseFloat(a)<=1&&b instanceof vw.Color?(this.density=a,this.clolr=b,vw.StaticMap.globe.effects.set("fog",this)):this.errorMessage=vw.Exception.errorStr.UNSUPPORTED_TYPE):this.errorMessage=vw.Exception.errorStr.INVALID_MAP_OBJECT},CLASS_NAME:"vw.effect.Fog"}),vw.Controls=vw.Util.Class(vw.NamedSet,{autoArrange:!0,clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.Controls;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a){var b=new vw.control.Compass,c=new vw.control.Navigator,d=new vw.control.Zoom;a==vw.DensityType.BASIC?(this.set(b.id,b),this.set(c.id,c),b.setAutoHide(!0),c.setAutoHide(!0)):a==vw.DensityType.FULL&&(this.set(b.id,b),this.set(c.id,c),this.set(d.id,d),b.setAutoHide(!0),c.setAutoHide(!0),d.setVisible(!0))},CLASS_NAME:"vw.Controls"}),vw.control={},vw.control.Control=vw.Util.Class(vw.Object,{id:"",site:null,position:"",anchor:vw.SiteAlignType.TOP_LEFT,getId:function(){return this.id},setSite:function(){},getSize:function(){},setPosition:function(){},getPosition:function(){},setAnchor:function(){},getAnchor:function(){},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.control.Control;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.control.Control"}),vw.control.Compass=vw.Util.Class(vw.control.Control,{autoHide:!0,_controlObj:null,setAutoHide:function(a){this.autoHide=a,a?this._controlObj.setCompasVisible(259):this._controlObj.setCompasVisible(258)},getAutoHide:function(){return this.autoHide},makeHide:function(){this.controlObj.setControlVisible(257)},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.control.Compass;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this._controlObj=vw.StaticMap._XDcom.getNavigationControl(),this._controlObj.setCompasVisible(257),this.id=this.CLASS_NAME},CLASS_NAME:"vw.control.Compass"}),vw.control.Navigator=vw.Util.Class(vw.control.Control,{autoHide:!0,_controlObj:null,setAutoHide:function(a){this.autoHide=a,a?this._controlObj.setNaviVisible(259):this._controlObj.setNaviVisible(258)},getAutoHide:function(){return this.autoHide},makeHide:function(){this._controlObj.setControlVisible(257)},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.control.Navigator;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this._controlObj=vw.StaticMap._XDcom.getNavigationControl(),this._controlObj.setNaviVisible(257),this.id=this.CLASS_NAME},CLASS_NAME:"vw.control.Navigator"}),vw.control.Zoom=vw.Util.Class(vw.control.Control,{delta:1,sliderVisible:!0,_controlObj:null,setDelta:function(a){a>0&&a<2&&(_controlObj.setZoomDelta(a),this.delta=a)},setVisible:function(a){a?this._controlObj.setZoomVisible(258):this._controlObj.setZoomVisible(257)},getDelta:function(){return this.delta},makeHide:function(){},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.control.Zoom;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this._controlObj=vw.StaticMap._XDcom.getNavigationControl(),this.id=this.CLASS_NAME,this.setVisible(!1)},CLASS_NAME:"vw.control.Zoom"}),vw.Interactions=vw.Util.Class(vw.Object,{bases:"",always:"",exclusive:null,interactObj:null,analysisObj:null,getExclusive:function(){return this.exclusive},setExclusive:function(a){if(null!=a){var b=this.get(a);return null!=b&&(null!=this.exclusive&&this.exclusive instanceof vw.interaction.Interaction&&!(this.exclusive instanceof vw.interaction.Interaction&&a!=this.exclusive.getId())||(this.mkBasesFalse(),this.exclusive=b,"vw.interaction.LookAround"==b.id||"vw.interaction.Measure"==b.id?b.doThis():"vw.interaction.Modify"==b.id&&(1==b.enabled?this.interactObj.setWorkMode(1):this.interactObj.getWorkMode()==b.type&&this.interactObj.setWorkMode(1)))),this.exclusive}return null!=this.exclusive&&this.exclusive.setDisable(),this.exclusive=a,this.mkBasesTrue(),this.exclusive},getBases:function(){return this.bases},getAlways:function(){return this.always},trueBases:null,mkBasesFalse:function(){var a=this.bases.getCount();this.trueBases=new Array;for(var b=0;b<a;b++)this.bases.item(b).getEnabled()&&(this.trueBases.push(this.bases.item(b).getId()),this.bases.item(b).setEnabled(!1))},mkBasesTrue:function(){var a=this.bases.getCount();if(null!=this.trueBases)for(var b=this.trueBases.length,c=0;c<a;c++)for(var d=0;d<b;d++)this.bases.item(c).getId()==this.trueBases[d]&&this.bases.item(c).setEnabled(!0);this.trueBases=new Array},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.Interactions;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},doCheckEnable:function(a,b,c,d,e){e.getEnabled()&&e.initEnable()},initialize:function(a){this.bases=new vw.Collection,this.always=new vw.Collection,this.bases.on("onItemChanged",this.doCheckEnable),this.always.on("onItemChanged",this.doCheckEnable),this.interactObj=vw.StaticMap._XDcom.getView(),this.analysisObj=vw.StaticMap._XDcom.getAnalysis();var b=new vw.interaction.Draw,c=new vw.interaction.Measure,d=new vw.interaction.LookAround,e=new vw.interaction.Modify;if(this.set(b.id,b),this.set(c.id,c),this.set(d.id,d),this.set(e.id,e),XDcom.getControl().setKeyPanMode(!1),XDcom.getControl().setKeyZoomMode(!1),XDcom.getControl().setKeyRotMode(!1),XDcom.getControl().setMouseZoomMode(!1),XDcom.getControl().setMousePanMode(!1),XDcom.getControl().setMouseRotMode(!1),a==vw.DensityType.FULL){var f=new vw.interaction.DoubleClickZoom;f.setEnabled(!0);var g=new vw.interaction.Select;g.setEnabled(!1),this.bases.add(f),this.bases.add(g);var h=new vw.interaction.KeyboardPan;h.setEnabled(!0),this.always.add(h);var i=new vw.interaction.KeyboardZoom;i.setEnabled(!0),this.always.add(i);var j=new vw.interaction.MouseWheelZoom;j.setEnabled(!0),this.always.add(j);var k=new vw.interaction.DragPan;k.setEnabled(!0),this.always.add(k);var l=new vw.interaction.DragRotate;l.setEnabled(!0),this.always.add(l)}else if(a==vw.DensityType.BASIC){var f=new vw.interaction.DoubleClickZoom;f.setEnabled(!0),this.bases.add(f);var g=new vw.interaction.Select;g.setEnabled(!0),this.bases.add(g);var h=new vw.interaction.KeyboardPan;h.setEnabled(!0),this.always.add(h);var i=new vw.interaction.KeyboardZoom;i.setEnabled(!0),this.always.add(i);var j=new vw.interaction.MouseWheelZoom;j.setEnabled(!0),this.always.add(j);var k=new vw.interaction.DragPan;k.setEnabled(!0),this.always.add(k);var l=new vw.interaction.DragRotate;l.setEnabled(!0),this.always.add(l)}},CLASS_NAME:"vw.Interactions"}),vw.interaction={},vw.interaction.Interaction=vw.Util.Class(vw.Object,{id:"",enabled:"",getId:function(){return this.id},eventId:null,setDisable:function(){XDcom.getView().setWorkMode(vw.Constant.MouseMode.MOVEGRAB),vw.StaticMap.unByKey(this.eventId)},setEnabled:function(a){var b=this.enabled;setTimeout(function(a,b,c,d){vw.ChangedEvent.call(a,b,c,d)}(this,"onEnabledChanged",b,a),100),this.enabled=a,null!=vw.StaticMap.interactions&&(vw.StaticMap.interactions.bases.indexOf(this)>-1?a?null==vw.StaticMap.interactions.getExclusive()?this.initEnable():this.enabled=!1:this.initEnable():vw.StaticMap.interactions.always.indexOf(this)>-1&&(this.enabled=a,this.initEnable()))},initEnable:function(){},doThis:function(){},getEnabled:function(){return this.enabled},eventList:{onPropertyChanged:"vw.PropertyChangedEvent",onEnabledChanged:"vw.ChangedEvent"},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.interaction.Interaction;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){enabled=!0},CLASS_NAME:"vw.interaction.Interaction"}),vw.interaction.DoubleClickZoom=vw.Util.Class(vw.interaction.Interaction,{initEnable:function(){this.enabled?vw.StaticMap.on("onDoubleClick",this.doThis):vw.StaticMap.un("onDoubleClick",this.doThis)},doThis:function(a,b,c,d,e,f,g,h){var i=XDcom.getViewCamera().getAltitude();i/=4,i<300&&(i=300),XDcom.getViewCamera().setAltitude(i)},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.interaction.DoubleClickZoom;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.id=this.CLASS_NAME},CLASS_NAME:"vw.interaction.DoubleClickZoom"}),vw.interaction.KeyboardPan=vw.Util.Class(vw.interaction.Interaction,{delta:"128",setDelta:function(a){this.delta=a},getDelta:function(){return this.delta},initEnable:function(){XDcom.getControl().setKeyPanMode(this.enabled),XDcom.getControl().setKeyRotMode(this.enabled)},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.interaction.KeyboardPan;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.id=this.CLASS_NAME},CLASS_NAME:"vw.interaction.KeyboardPan"}),vw.interaction.KeyboardZoom=vw.Util.Class(vw.interaction.Interaction,{initEnable:function(){XDcom.getControl().setKeyZoomMode(this.enabled)},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.interaction.KeyboardZoom;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.id=this.CLASS_NAME},CLASS_NAME:"vw.interaction.KeyboardZoom"}),vw.interaction.MouseWheelZoom=vw.Util.Class(vw.interaction.Interaction,{initEnable:function(){XDcom.getControl().setMouseZoomMode(this.enabled)},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.interaction.MouseWheelZoom;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.id=this.CLASS_NAME},CLASS_NAME:"vw.interaction.MouseWheelZoom"}),vw.interaction.Select=vw.Util.Class(vw.interaction.Interaction,{multi:!1,setMulti:function(a){this.multi=a},getMulti:function(){return this.multi},initEnable:function(){this.enabled?vw.StaticMap.on("onLMouseDown",this.doThis):vw.StaticMap.un("onLMouseDown",this.doThis)},doThis:function(a,b,c,d,e,f,g,h,i,j){},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.interaction.Select;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.id=this.CLASS_NAME},CLASS_NAME:"vw.interaction.Select"}),vw.interaction.DragPan=vw.Util.Class(vw.interaction.Interaction,{initEnable:function(){XDcom.getControl().setMousePanMode(this.enabled)},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.interaction.DragPan;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.id=this.CLASS_NAME},CLASS_NAME:"vw.interaction.DragPan"}),vw.interaction.DragRotate=vw.Util.Class(vw.interaction.Interaction,{initEnable:function(){XDcom.getControl().setMouseRotMode(this.enabled)},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.interaction.DragRotate;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.id=this.CLASS_NAME},CLASS_NAME:"vw.interaction.DragRotate"}),vw.interaction.Pointer=vw.Util.Class(vw.interaction.Interaction,{initialize:function(){},CLASS_NAME:"vw.interaction.Pointer"}),vw.DrawShapeType={POINT:"POINT",LINESTRING:"LINESTRING",POLYGON:"POLYGON"};vw.interaction.Draw=vw.Util.Class(vw.interaction.Pointer,{geometry:"",type:"",style:vw.BaseStyle,setGeometry:function(a){a instanceof vw.geom.Geometry&&(this.geometry=a)},getGeometry:function(){return this.geometry},setType:function(a){a in vw.DrawShapeType&&(this.type=a,vw.StaticMap.interactions.getExclusive()==this&&this.doThis())},getType:function(){return this.type},setStyle:function(a){a instanceof vw.style.StyleGroup&&(this.style=a)},getStyle:function(){return this.style},eventId:null,setDisable:function(){XDcom.getView().setWorkMode(vw.Constant.MouseMode.MOVEGRAB),vw.StaticMap.unByKey(this.eventId)},setEnabled:function(a){var b=this.enabled;setTimeout(function(a,b,c,d){vw.ChangedEvent.call(a,b,c,d)}(this,"onEnabledChanged",b,a),100),this.enabled=a,vw.StaticMap.interactions.getExclusive()==this&&this.doThis()},doThis:function(){var a=XDcom.getView();if(this.enabled)switch(a.clearInputPoint(),this.type){case vw.DrawShapeType.POINT:a.setWorkMode(vw.Constant.MouseMode.INPUTPOINT),this.eventId=vw.StaticMap.once("onClick",this.makeGeom);break;case vw.DrawShapeType.LINESTRING:a.setWorkMode(vw.Constant.MouseMode.LINESTRING),this.eventId=vw.StaticMap.once("onDoubleClick",this.makeGeom);break;case vw.DrawShapeType.POLYGON:a.setWorkMode(vw.Constant.MouseMode.POLYGON),this.eventId=vw.StaticMap.once("onDoubleClick",this.makeGeom)}else a.setWorkMode(vw.Constant.MouseMode.MOVEGRAB)},makeGeom:function(a,b,c,d,e,f,g,h){var i=XDcom.getView(),j=vw.StaticMap.getInteractions().getExclusive();if(j.getEnabled())switch(j.getType()){case vw.DrawShapeType.POINT:var k=vw.StaticMap._XDcom.createVec3();k.set(c.x,c.y,i.getTerrHeight(c.x,c.y));var l=vw.StaticMap._XDcom.createPoint(c.x);l.Set(k);var m=l.getSymbol(),n=m.getIcon(),o=vw.BaseStyle.marker.src;n.setNormalIcon(o),l.setName(c.x),l.setDescription("포인트 객체"),m.setIcon(n),l.setSymbol(m),i.addChild(l,8);break;case vw.DrawShapeType.LINESTRING:var p=i.getInputPointCount();if(p<2)return void alert("2점 이상 입력하세요");var q=i.getInputPointList(),r=vw.StaticMap._XDcom.createLineString(q.get(0).Longitude);r.setCoordinates(q);var s;s=r.getStyle();var t;t=s.getColor(),t.setARGB(255,232,83,228),s.setColor(t),s.setWidth(5),r.setStyle(s),i.clearInputPoint(),i.addChild(r,8),i.updateRTT();break;case vw.DrawShapeType.POLYGON:var p=i.getInputPointCount();if(p<3)return void alert("3점 이상 입력해주세요");var q=i.getInputPointList();rect=vw.StaticMap._XDcom.createPolygon(q.get(0).Longitude),rect.setCoordinates(q);var u;u=rect.getStyle();var t=u.getOutlineColor();t.setARGB(255,232,83,228),u.setOutLineColor(t);var v=u.getFillColor();v.setARGB(200,167,167,201),u.setFillColor(v),u.setOutlineWidth(5),rect.setStyle(u),i.clearInputPoint(),i.addChild(rect,13),i.updateRTT()}vw.StaticMap.getInteractions().getExclusive().setEnabled(!1),this.eventId=null},initialize:function(){this.id=this.CLASS_NAME},CLASS_NAME:"vw.interaction.Draw"});vw.MeasureType={DISTANCE:"DISTANCE",AREA:"AREA",ELEVATION:"ELEVATION"},vw.interaction.Measure=vw.Util.Class(vw.interaction.Draw,{type:"",setType:function(a){this.type=a,vw.StaticMap.interactions.getExclusive()==this&&this.doThis()},getType:function(){return this.type},eventId:null,setDisable:function(){XDcom.getView().setWorkMode(vw.Constant.MouseMode.MOVEGRAB)},setEnabled:function(a){var b=this.enabled;setTimeout(function(a,b,c,d){vw.ChangedEvent.call(a,b,c,d)}(this,"onEnabledChanged",b,a),100),this.enabled=a,vw.StaticMap.interactions.getExclusive()==this&&this.doThis()},doThis:function(){var a=XDcom.getView(),b=XDcom.getAnalysis();if(this.enabled)switch(this.type){case vw.MeasureType.DISTANCE:b.addDistObject(),a.setWorkMode(vw.Constant.MouseMode.ANADISTANCE);break;case vw.MeasureType.AREA:b.addAreaObject(),a.setWorkMode(vw.Constant.MouseMode.ANAAREA);break;case vw.MeasureType.ELEVATION:a.setWorkMode(vw.Constant.MouseMode.ANAABSHEIGHT)}else a.setWorkMode(vw.Constant.MouseMode.MOVEGRAB)},initialize:function(a){this.id=this.CLASS_NAME},CLASS_NAME:"vw.interaction.Measure"}),vw.LookAroundType={GROUND:"GROUND",WALL:"WALL"},vw.interaction.LookAround=vw.Util.Class(vw.interaction.Interaction,{type:"",setType:function(a){this.type!=a&&(this.type=a,this.enabled&&(this.setEnabled(!1),this.setEnabled(!0)))},getType:function(){return this.type},eventId:null,setDisable:function(){XDcom.getView().setWorkMode(vw.Constant.MouseMode.MOVEGRAB),vw.StaticMap.unByKey(this.eventId)},setEnabled:function(a){var b=this.enabled;setTimeout(function(a,b,c,d){vw.ChangedEvent.call(a,b,c,d)}(this,"onEnabledChanged",b,a),100),this.enabled=a,vw.StaticMap.interactions.getExclusive()==this&&this.doThis()},doThis:function(){var a=vw.StaticMap._XDcom.getAnalysis(),b=vw.StaticMap._XDcom.getView();1==this.enabled?(b.setWorkMode(85),this.type==vw.LookAroundType.WALL?this.eventId=vw.StaticMap.once("onLMouseUp",this.doWall):this.type==vw.LookAroundType.GROUND&&(this.eventId=vw.StaticMap.once("onClick",this.doGround))):0==this.enabled&&(b.setWorkMode(1),this.type==vw.LookAroundType.WALL?a.getBuildLandscapeMode()&&a.setBuildLandscapeMode(!1):this.type==vw.LookAroundType.GROUND&&a.getGroundLandScapeMode()&&a.setGroundLandScapeMode(!1))},doWall:function(a,b,c,d,e,f,g,h,i,j){null!=j&&"SOPModel"!=j.getType()?setTimeout(function(){var a=vw.StaticMap._XDcom.getAnalysis();a.startBuildLandscape(120),a.setBuildLandscapeMode(!0)},500):(alert("건물을 클릭하셔야 경관을 볼 수 있습니다."),map.setFocus()),vw.StaticMap._XDcom.getView().setWorkMode(1)},doGround:function(){setTimeout(function(){var a=vw.StaticMap._XDcom.getView().getInputPointList(),b=a.get(0),c=vw.StaticMap._XDcom.getAnalysis();c.startGroundLandScape(b),c.setGroundLandScapeMode(!0),vw.StaticMap._XDcom.getView().clearInputPoint(),vw.StaticMap._XDcom.getView().updateRTT(),vw.StaticMap._XDcom.getView().setWorkMode(1)},500)},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.interaction.LookAround(this.type);for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.type=vw.LookAroundType.GROUND,this.id=this.CLASS_NAME},CLASS_NAME:"vw.interaction.LookAround"}),vw.interaction.Modify=vw.Util.Class(vw.interaction.Interaction,{geometry:"",style:"",tolerance:"",clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.interaction.Modify;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.id="Modify",this.enabled=!0,this.style=vw.BaseStyle,this.tolerance=5},CLASS_NAME:"vw.interaction.Modify"}),vw.interaction.DragBox=function(){this.extent="",this.style=""},vw.interaction.DragSelect=function(){this.multi=!1},vw.interaction.DragBoxZoom=function(){},vw.interaction.DragRotateAndZoom=function(){},vw.interaction.DrawGraphic=vw.Util.Class(vw.interaction.Draw,{initialize:function(){},CLASS_NAME:"vw.interaction.DrawGraphic"}),vw.interaction.Custom=vw.Util.Class({handleEvent:"",initialize:function(){},CLASS_NAME:"vw.interaction.Custom"}),vw.callback={},vw.callback.MapEvent=vw.Util.Class({event:"",initialize:function(){return!0},CLASS_NAME:"vw.callback.MapEvent"}),vw.interaction.PinchRotate=function(){this.threshold=10},vw.interaction.PinchZoom=function(){this.threshold=5},vw.Features=vw.Util.Class(vw.Collection,{extent:null,_renderer:null,getExtent:function(){return this.extent},getFeature:function(a){var b="";if(null!=a&&"undifined"!=a&&this.getCount()>0)for(var c=0;c<this.getCount();c++)if(this.item(c).getId()===a){b=this.item(c);break}return b},getClosestFeatureFromPoint:function(a){},getFeaturesByExtent:function(a,b){},getFeaturesAtPoint:function(a){},setRenderer:function(a){this._renderer=a},getRenderer:function(){return this._renderer},addEvt:function(a,b,c,d,e){b==vw.EditType.INSERT&&(e.setRenderer(this._renderer),e.createFeature())},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.Features;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.collectionType=vw.Geometry},CLASS_NAME:"vw.Features"}),vw.Relations={EQUAL:"EQUAL",DISJOINT:"DISJOINT",INTERSECT:"INTERSECT",TOUCH:"TOUCH",OVERLAP:"OVERLAP",CROSS:"CROSS",WITHIN:"WITHIN",CONTAIN:"CONTAIN"},vw.Feature=vw.Util.Class(vw.Object,{id:null,geometry:null,fieldDefs:null,attributes:null,style:null,_renderer:null,_rObj:null,setId:function(a){if(null!=this.id)return!1;var b=this.id;this.id=a,vw.ChangedEvent(this,"onIdChanged",b,a)},getId:function(){return this.id},setGeometry:function(a){var b=this.geometry;this.geometry=a,vw.ChangedEvent(this,"onGeometryChanged",b,a)},getGeometry:function(){return this.geometry},getFieldDefs:function(){return this.fieldDefs},getAttributes:function(){return this.attributes},setStyle:function(a){var b=this.style;this.style=a,vw.ChangedEvent(this,"onStyleChanged",b,a)},getStyle:function(){return this.style},setRenderer:function(a){this._renderer=a},getRenderer:function(){return this._renderer},eventList:{onPropertyChanged:"vw.PropertyChangedEvent",onIdChanged:"vw.ChangedEvent",onGeometryChanged:"vw.ChangedEvent",onAttributeChanged:"vw.ChangedEvent",onStyleChanged:"vw.ChangedEvent"},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.Feature;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},attrChangedEvt:function(a,b,c,d){vw.ChangedEvent(a,"onAttributeChanged",c,d)},createFeature:function(){var a="";switch(null!=this.getId()?a=this.getId():(a=vw.Util.getUniqId(this.CLASS_NAME),this.setId(a)),this.getGeometry().CLASS_NAME){case"vw.geom.Point":this._rObj=this.createPoint();break;case"vw.geom.PointZ":this._rObj=this.createPointZ();
break;case"vw.geom.Line":this._rObj=this.createLine();break;case"vw.geom.LineZ":this._rObj=this.createLineZ();break;case"vw.geom.LineString":this._rObj=this.createLineString();break;case"vw.geom.LineStringZ":this._rObj=this.createLineStringZ();break;case"vw.geom.LinearRing":this._rObj=this.createLinearRing();break;case"vw.geom.LineStringZ":this._rObj=this.createLineStringZ();break;case"vw.geom.Polygon":this._rObj=this.createPolygon();break;case"vw.geom.PolygonZ":this._rObj=this.createPolygonZ();break;case"vw.geom.SpecialShape":this.applyStyleFigure(),this._rObj=this.createFigureShpe("special");break;case"vw.geom.RegularShape":this.applyStyleFigure(),this._rObj=this.createFigureShpe("regular");break;case"vw.geom.Circle":this.applyStyleFigure(),this._rObj=this.createFigureShpe("circle");break;case"vw.geom.SpecialShapeZ":this.applyStyleFigure(),this._rObj=this.createFigureShpeZ("special");break;case"vw.geom.RegularShapeZ":this.applyStyleFigure(),this._rObj=this.createFigureShpeZ("regular");break;case"vw.geom.CircleZ":this.applyStyleFigure(),this._rObj=this.createFigureShpeZ("circle")}},applyStyleFigure:function(){var a=null;a=null==this.getStyle()?this.getRenderer().getStyle():this.getStyle();var b=vw.StaticMap._XDcom.getOption(),c=b.getDefaultFigureStyle(),d=a.getFill().getColor(),e=a.getStroke().getColor();c.setOutLineColor(e.getSopColor()),c.setFillColor(d.getSopColor()),c.setOutlineWidth(5),b.setDefaultFigureStyle(c)},_getStyle:function(){var a=null;return a=null==this.getStyle()?this.getRenderer().getStyle():this.getStyle()},makeExtrude:function(){"SOPFigure"==this._rObj.getType()?(this._rObj.set3DMode(!0),fig.setHeight(100),fig.setUnionMode(0)):this._rObj.setRefHValue(3,100)},createPoint:function(){var a=vw.StaticMap._XDcom.createVec3(),b=this.getGeometry().getCoord();a.set(b.x,b.y,vw.StaticMap._XDcom.getView().getTerrHeight(b.x,b.y));var c=vw.StaticMap._XDcom.createPoint(this.getId());c.Set(a);var d=c.getSymbol(),e=d.getIcon(),f=this._getStyle().getMarker().getSrc();return e.setNormalIcon(f),c.setName(this.getAttributes().get("title")),c.setDescription("포인트 객체"),d.setIcon(e),c.setSymbol(d),vw.StaticMap._XDcom.getView().addChild(c,8),c},createPointZ:function(){var a=vw.StaticMap._XDcom.createVec3(),b=this.getGeometry().getCoord();a.set(b.x,b.y,vw.StaticMap._XDcom.getView().getTerrHeight(b.x,b.y)+b.z);var c=vw.StaticMap._XDcom.createPoint(this.getId());c.Set(a);var d=c.getSymbol(),e=d.getIcon(),f=this._getStyle().getMarker().getSrc();return e.setNormalIcon(f),c.setName(this.getAttributes().get("title")),c.setDescription("포인트 객체"),d.setIcon(e),c.setSymbol(d),vw.StaticMap._XDcom.getView().addChild(c,8),c},createLine:function(){var a=vw.StaticMap._XDcom,b=a.createVec3Array(),c=this.getGeometry(),d=c.getStart(),e=c.getEnd(),f=a.createVec3();f.set(d.x,d.y,d.z);var g=a.createVec3();g.set(e.x,e.y,e.z),b.push(f),b.push(g);var h=vw.StaticMap._XDcom.createLineString(this.getId());h.setCoordinates(b);var i=h.getStyle();return i.setColor(this._getStyle().getStroke().getColor().getSopColor()),i.setWidth(this._getStyle().getStroke().getWidth()),h.setStyle(i),a.getView().addChild(h,8),a.getView().updateRTT(),h},createLineZ:function(){var a=vw.StaticMap._XDcom,b=a.createVec3Array(),c=50,d=this.getGeometry().getStart(),e=this.getGeometry().getEnd(),f=a.createVec3();f.set(d.x,d.y,d.z+c);var g=a.createVec3();g.set(e.x,e.y,e.z+c),b.push(f),b.push(g);var h=vw.StaticMap._XDcom.createLineString(this.getId());h.setCoordinates(b),h.setUnionMode(0),h.setRefHValue(1,0);var i=h.getStyle();return i.setColor(this._getStyle().getStroke().getColor().getSopColor()),i.setWidth(this._getStyle().getStroke().getWidth()),h.setStyle(i),a.getView().addChild(h,8),inputPointArr=new Array,a.getView().updateRTT(),h},createLineString:function(){var a=vw.StaticMap._XDcom,b=a.createVec3Array(),c=this.getGeometry().getPoints(),d=c.getArray(),e=d.length,f=null;if(!(e>=2))return vw.Exception.errorStr.UNSUPPORTED_TYPE;for(var g=0;g<e;g++)f=a.createVec3(),f.set(d[g].x,d[g].y,vw.StaticMap._XDcom.getView().getTerrHeight(d[g].x,d[g].y)),b.push(f);var h=vw.StaticMap._XDcom.createLineString(this.getId());h.setCoordinates(b);var i=h.getStyle();return i.setColor(this._getStyle().getStroke().getColor().getSopColor()),i.setWidth(this._getStyle().getStroke().getWidth()),h.setStyle(i),a.getView().addChild(h,8),a.getView().updateRTT(),h},createLineStringZ:function(){var a=vw.StaticMap._XDcom,b=a.createVec3Array(),c=50,d=this.getGeometry().getPoints(),e=d.getArray(),f=e.length,g=null;if(!(f>=2))return vw.Exception.errorStr.UNSUPPORTED_TYPE;for(var h=0;h<f;h++)g=a.createVec3(),g.set(e[h].x,e[h].y,vw.StaticMap._XDcom.getView().getTerrHeight(e[h].x,e[h].y)+e[h].z),b.push(g);var i=vw.StaticMap._XDcom.createLineString(this.getId());i.setCoordinates(b),i.setUnionMode(0),i.setRefHValue(1,0);var j=i.getStyle();return j.setColor(this._getStyle().getStroke().getColor().getSopColor()),j.setWidth(this._getStyle().getStroke().getWidth()),i.setStyle(j),a.getView().addChild(i,8),a.getView().updateRTT(),i},createLinearRing:function(){var a=vw.StaticMap._XDcom,b=a.createVec3Array(),c=this.getGeometry().getPoints(),d=c.getArray(),e=d.length,f=null;if(!(e>=3))return vw.Exception.errorStr.UNSUPPORTED_TYPE;for(var g=0;g<e;g++)f=a.createVec3(),f.set(d[g].x,d[g].y,vw.StaticMap._XDcom.getView().getTerrHeight(d[g].x,d[g].y)),b.push(f);f=a.createVec3(),f.set(d[0].x,d[0].y,d[0].z),b.push(f);var h=vw.StaticMap._XDcom.createLineString(this.getId());h.setCoordinates(b);var i=h.getStyle();return i.setColor(this._getStyle().getStroke().getColor().getSopColor()),i.setWidth(this._getStyle().getStroke().getWidth()),h.setStyle(i),a.getView().addChild(h,8),a.getView().updateRTT(),h},createPolygon:function(){var a=vw.StaticMap._XDcom,b=a.createVec3Array(),c=this.getGeometry().getRings().getArray(),d=c.length,e=null;if(!(d>2))return vw.Exception.errorStr.UNSUPPORTED_TYPE;for(var f=0;f<d;f++)e=a.createVec3(),e.set(c[f].x,c[f].y,vw.StaticMap._XDcom.getView().getTerrHeight(c[f].x,c[f].y)),b.push(e);var g=a.createPolygon(this.getId());g.setCoordinates(b);var h=g.getStyle();return h.setOutLineColor(this._getStyle().getStroke().getColor().getSopColor()),h.setFillColor(this._getStyle().getFill().getColor().getSopColor()),h.setOutlineWidth(this._getStyle().getStroke().getWidth()),g.setStyle(h),a.getView().addChild(g,13),a.getView().updateRTT(),g},createPolygonZ:function(){var a=vw.StaticMap._XDcom,b=a.createVec3Array(),c=this.getGeometry().getRings().getArray(),d=c.length,e=null;if(!(d>2))return vw.Exception.errorStr.UNSUPPORTED_TYPE;for(var f=0;f<d;f++)e=a.createVec3(),e.set(c[f].x,c[f].y,c[f].z),b.push(e);var g=a.createPolygon(this.getId());g.setCoordinates(b),g.setUnionMode(0),g.setRefHValue(1,0);var h=g.getStyle();return h.setOutLineColor(this._getStyle().getStroke().getColor().getSopColor()),h.setFillColor(this._getStyle().getFill().getColor().getSopColor()),h.setOutlineWidth(this._getStyle().getStroke().getWidth()),g.setStyle(h),a.getView().addChild(g,13),a.getView().updateRTT(),g},createFigureShpeZ:function(a){var b=vw.StaticMap._XDcom,c=this.getGeometry(),d=b.createFigure(this.getId()),e=Number(c.getType()+100),f=2*c.getRadius();d.setFigureType(e);var g=b.createVec3(),h=c.getCenter();return g.set(h.x,h.y,h.z),d.setPosition(g),d.setSize(f,1,f),d.setAngle(0),d.set3DMode(extrudeFlag),extrudeFlag&&d.setHeight(100),"regular"==a?d.setSegment(c.getSides()):"special"==a&&(d.setFactor(0,.5),d.setFactor(1,.5),d.setFactor(2,.5),d.setFactor(3,.5),c.getType()==vw.geom.SpecialShapeType.STAR?d.setSegment(10):d.setSegment(36)),b.getView().addChild(d,15),d},createFigureShpe:function(a){var b=vw.StaticMap._XDcom,c=this.getGeometry(),d=b.createFigure(this.getId()),e=Number(c.getType()+100),f=2*c.getRadius();d.setFigureType(e);var g=b.createVec3(),h=c.getCenter();return g.set(h.x,h.y,vw.Util.getTerrHeight(h.x,h.y)+2),d.setPosition(g),d.setSize(f,1,f),d.setAngle(0),d.set3DMode(extrudeFlag),extrudeFlag?(d.setHeight(100),d.setUnionMode(0)):d.setUnionMode(1),"regular"==a?d.setSegment(c.getSides()):"special"==a&&(d.setFactor(0,.5),d.setFactor(1,.5),d.setFactor(2,.5),d.setFactor(3,.5),c.getType()==vw.geom.SpecialShapeType.STAR?d.setSegment(10):d.setSegment(36)),b.getView().addChild(d,15),d},createExtrude:function(){},initialize:function(a,b){return null!=a||a instanceof vw.geom.Geometry?(this.geometry=a,null!=b&&(this.style=b),this.attributes=new vw.NamedSet,this.attributes.on("onPropertyChanged",this.attrChangedEvt),void(this.fieldDefs=new vw.Collection)):vw.Exception.errorStr.UNSUPPORTED_TYPE},CLASS_NAME:"vw.Feature"}),vw.FieldDef=vw.Util.Class(vw.Object,{name:null,alias:null,type:null,length:null,setName:function(a){this.name=a},getName:function(){return this.name},setAlias:function(a){this.alias=a},getAlias:function(){return this.alias},setType:function(a){this.type=a},getType:function(){return this.type},setLength:function(a){this.length=a},getLength:function(){return this.length},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.FieldDef;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a,b){null==b||"undifined"==b?this.type=vw.FieldType.STRING:this.type=b,null!=a||"undifined"!=b?this.name=a:this.name=""},CLASS_NAME:"vw.FieldDef"}),vw.FieldType={UNKNOWN:"UNKNOWN",INTEGER:"INTEGER",DOUBLE:"DOUBLE",DATETIME:"DATETIME",STRING:"STRING",BOOLEAN:"BOOLEAN",BINARY:"BINARY"},vw.LayerName=function(a,b){var c=XDcom.getLayerList(),d=vw.StaticMap._XDcom.getView();switch(a){case"layer_bldg":b?c.setVisible("facility_build",258):c.setVisible("facility_build",257);break;case"layer_texture":b?d.setRenderMode(0):d.setRenderMode(1);break;case"layer_wms":b?c.nameAtLayer("wmsLayer")?c.setVisible("wmsLayer",258):(e=c.createWMSLayer("wmsLayer"),e.setConnectionWMS("2d.vworld.kr",8895,"/2DCache/gis/map/WMS?"),e.setLayersWMS("lp_pa_cbnd_bonbun"),e.setStylesWMS("lp_pa_cbnd_bonbun"),e.setTileSizeWMS(256),e.setLevelWMS(14,17)):c.setVisible("wmsLayer",257);break;case"layer_wfs":if(b)if(c.nameAtLayer("wfs_layer"))c.setVisible("wfs_layer",258);else{var e=c.createWFSLayer("wfs_layer",0);e.setConnectionWFS("2d.vworld.kr",8895,"/2DCache/gis/map/WFS?"),e.setLayersWFS("lt_p_bubun");var f=e,g=XDcom.createColor(),h=XDcom.createColor(),i=f.getName(),j=0;"lt_p_bonbun"==i?(g.setARGB(255,248,248,64),h.setARGB(255,128,128,128),j=15):"lt_p_bubun"==i?(g.setARGB(255,248,248,64),h.setARGB(255,255,0,255),j=16):(g.setARGB(255,248,248,64),h.setARGB(255,255,0,0),j=12),f.setRequestFeatureCount(800),f.setFontStyle("굴림",12,200,g,h),f.setWFSGeoField('sop:ag_geom'),f.setWFSPointName("sop:bubun"),f.setViewLimit(20),f.setLevelWFS(13),f.setWFSPropertyName("ag_geom,bubun"),f.setLevelWFS(j)}else c.setVisible("wfs_layer",257)}vw.StaticMap._XDcom.getView().updateRTT()},vw.Layers=vw.Util.Class(vw.Collection,{selectionLayer:"",graphicLayers:"",customModelLayers:"",modelLayer:"",terrainLayer:"",basemapLayer:"",visible:!0,getSelectionLayer:function(){return this.selectionLayer},getGraphicLayers:function(){return this.graphicLayers},getCustomModelLayers:function(){return this.customModelLayers},getModelLayer:function(){return this.modelLayer},getTerrainLayer:function(){return this.terrainLayer},getBasemapLayer:function(){return this.basemapLayer},setVisible:function(a){if(this.getCount()>0)for(var b=0;b<this.getCount();b++)this.item(b).setVisible(a);vw.Util.mapRender(),this.visible=a},getVisible:function(){return this.visible},getLayer:function(a){var b=null;if(this.getCount()>0)for(var c=0;c<this.getCount();c++)if(this.item(c).getName()===a){b=this.item(c);break}return b},getFeaturesAtPixel:function(a,b){},getFeaturesAtPoint:function(a,b){},add:function(a){if(null!=a&&"undifined"!=a){if(0==this.count&&this.arrayInit(),a instanceof vw.layer.Vector)if(a.getSource()instanceof vw.source.WFS)a.addThis(),a.on("onItemChanged",a.addEvt);else try{var b=a.getSource().getFeatures();if(b.setRenderer(a.getRenderer()),b&&b.getCount()>0)for(var c=0;c<b.getCount();c++)b.item(c).setRenderer(a.getRenderer()),b.item(c).createFeature();b.on("onItemChanged",b.addEvt)}catch(a){}else a instanceof vw.layer.Tile&&(a.addThis(),a.on("onItemChanged",a.addEvt));var d=this.collectionProp.push(a);return this.updateCount(),setTimeout(function(b){vw.CollectionEvent.call(b,b,vw.EditType.INSERT,d,"",a)}(this),100),d}},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.Layers;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a){this.terrainLayer=new vw.layer.Terrain,this.basemapLayer=new vw.layer.Basemap;var b=new vw.source.Model,c=vw.loader.FULLURL+"/real3d";b.setUrl(c),b.state=vw.source.State.READY,b.setCrs("EPSG:4326"),this.modelLayer=new vw.layer.Model(b),this.modelLayer.setName("facility_build"),this.modelLayer.setSelectable(!0),this.modelLayer.setMinZoom(1),this.modelLayer.setMaxZoom(15)},CLASS_NAME:"vw.Layers"}),vw.layer={},vw.layer.NamedLayerFactory={getLayer:function(a){var b=vw.StaticMap._XDcom.getLayerList(),c=null,d=null;if(a.indexOf("facility")>-1)return d;for(var e=0;e<b.count();e++)if(b.indexAtLayer(e).getName()==a){c=b.indexAtLayer(e).getName();break}return null!=c&&(d=this.makeLayerInfo(c)),d},makeLayerInfo:function(a){var b=a.split("_")[0],c=vw.loader.FULLURL+"/"+b,d=new vw.source.Tile;d.setUrl(c);var e=new vw.layer.Tile(d);return e.setName(a),e.setSelectable(!1),e.setMinZoom(1),e.setMaxZoom(15),e},CLASS_NAME:"vw.layer.NamedLayerFactory"},vw.layer.Base=vw.Util.Class(vw.Object,{name:"",alias:"",extent:"",minZoom:1,maxZoom:15,opacity:1,selectable:!1,elevation:"",elevationBase:null,visible:!0,setName:function(a){this.name=a},getName:function(){return this.name},setAlias:function(a){this.alias=a},getAlias:function(){return this.alias},setExtent:function(a){var b=this.extent;this.extent=a,vw.ChangedEvent(this,"onExtentChanged",b,a)},getExtent:function(){return this.extent},setMinZoom:function(a){var b=this.minZoom;this.minZoom=a,vw.ChangedEvent(this,"onMinZoomChanged",b,a)},getMinZoom:function(){return this.minZoom},setMaxZoom:function(a){var b=this.maxZoom;vw.StaticMap._XDcom.getLayerList().nameAtLayer(this.name).setMaxLevel(a),this.maxZoom=a,vw.ChangedEvent(this,"onMaxZoomChanged",b,a)},getMaxZoom:function(){return this.maxZoom},setOpacity:function(a){var b=this.opacity;this.opacity=a,vw.ChangedEvent(this,"onOpacityChanged",b,a)},getOpacity:function(){return this.opacity},setSelectable:function(a){a?vw.StaticMap._XDcom.getLayerList().nameAtLayer(this.name).setSelectable(vw.Constant.enums.VWSELECTABLE_ON):vw.StaticMap._XDcom.getLayerList().nameAtLayer(this.name).setSelectable(vw.Constant.enums.VWSELECTABLE_OFF),this.selectable=a},getGelectable:function(){return this.selectable},setVisible:function(a){var b=this.visible,c=vw.Constant.enums.VWVISIBLE_ON;if(c=a?vw.Constant.enums.VWVISIBLE_ON:vw.Constant.enums.VWVISIBLE_OFF,null===vw.StaticMap._XDcom.getLayerList().nameAtLayer(this.name)){var d=this.getSource().getFeatures();if(d.getCount()>0)for(var e=0;e<d.getCount();e++)d.item(e)._rObj.setVisible(c)}else vw.StaticMap._XDcom.getLayerList().nameAtLayer(this.name).setVisible(c);vw.ChangedEvent(this,"onVisibleChanged",b,a),this.visible=a,vw.Util.mapRender()},getVisible:function(){return this.visible},setElevation:function(){this.elevation=pElevation},getElevation:function(){return this.elevation},setElevationBase:function(){this.elevationBase=pElevationBase},getElevationBase:function(){return this.elevationBase},eventList:{onPropertyChanged:"vw.PropertyChangedEvent",onExtentChanged:"vw.ChangedEvent",onMaxZoomChanged:"vw.ChangedEvent",onMinZoomChanged:"vw.ChangedEvent",onOpacityChanged:"vw.ChangedEvent",onVisibleChanged:"vw.ChangedEvent"},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.layer.Base;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.elevationBase=vw.ElevationBaseType.TERRAIN},CLASS_NAME:"vw.layer.Base"}),vw.ElevationBaseType={TERRAIN:"TERRAIN",SEA:"SEA"},vw.layer.Group=vw.Util.Class(vw.layer.Base,{layers:"",setLayers:function(a){a instanceof vw.Collection?this.layers=a:a instanceof vw.layer.Base&&this.layers.add(a)},getLayers:function(){return this.layers},getLayer:function(a){var b=null,c=null;if(""!=layers)for(var d=0;d<layers.getCount();d++)if(c=layers.item(d),c instanceof vw.layer.Base&&c.getName()==a){b=c;break}return b},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.layer.Group;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a){if(this.layers=new vw.Collection,null!==a)for(var b=0;b<a.length;b++)this.layers.add(a[b])},CLASS_NAME:"vw.layer.Group"}),vw.layer.Feature=vw.Util.Class(vw.layer.Base,{features:null,style:null,setFeature:function(a){this.features=a},getFeatures:function(){return this.features},setStyle:function(a){this.style=a},getStyle:function(){return this.style},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.layer.Feature;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){vw.StaticMap.getLayers().add(this)},CLASS_NAME:"vw.layer.Feature"}),vw.layer.Sourced=vw.Util.Class(vw.layer.Base,{source:null,setSource:function(a){var b=this.source;this.source=a,vw.ChangedEvent(this,"onSourceChanged",b,a)},getSource:function(){return this.source},eventList:{onPropertyChanged:"vw.PropertyChangedEvent",onExtentChanged:"vw.ChangedEvent",onMaxZoomChanged:"vw.ChangedEvent",onMinZoomChanged:"vw.ChangedEvent",onOpacityChanged:"vw.ChangedEvent",onVisibleChanged:"vw.ChangedEvent",onSourceChanged:"vw.ChangedEvent"},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.layer.Sourced;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.layer.Sourced"}),vw.layer.Tile=vw.Util.Class(vw.layer.Sourced,{source:null,addThis:function(){var a=this.getSource();if(null!=a){var b=a.getLayers(),c=vw.StaticMap._XDcom.getLayerList().createWMSLayer(b);this.setName(b);var d=a.getUrl(),e=80,f="";d.indexOf("http://")>-1&&(d=d.replace("http://","")),d.indexOf(":")>-1?(e=d.substring(d.indexOf(":")+1,d.indexOf("/")),f=d.substring(d.indexOf("/"),d.length),d=d.substring(0,d.indexOf(":"))):(f=d.substring(d.indexOf("/"),d.length),d=d.substring(0,d.indexOf("/"))),c.setConnectionWMS(d,e,f),c.setLayersWMS(a.getLayers()),c.setStylesWMS(a.getStyles()),c.setTileSizeWMS(256),c.setLevelWMS(10,16)}},addEvt:function(a,b,c,d,e){b==vw.EditType.INSERT&&e.addThis()},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.layer.Tile;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a){null!=a&&this.setSource(a)},CLASS_NAME:"vw.layer.Tile"}),vw.layer.Basemap=vw.Util.Class(vw.layer.Tile,{type:null,currentDate:null,setType:function(a){this.type=vw.BasemapType.PHOTO},setVisible:function(){return"영상은 숨길수 없습니다."},getVisible:function(){return!0},getType:function(){return this.type},setCurrentDate:function(a){this.currentDate=pData},getCurrentDate:function(){return this.currentDate},eventList:{onPropertyChanged:"vw.PropertyChangedEvent",onExtentChanged:"vw.ChangedEvent",onMaxZoomChanged:"vw.ChangedEvent",onMinZoomChanged:"vw.ChangedEvent",onOpacityChanged:"vw.ChangedEvent",onVisibleChanged:"vw.ChangedEvent",onSourceChanged:"vw.ChangedEvent",onBasemapTypeChanged:"vw.ChangedEvent"},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.layer.Basemap;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a){this.type=vw.BasemapType.PHOTO,this.name="basemapLayer"},CLASS_NAME:"vw.layer.Basemap"}),vw.layer.Vector=vw.Util.Class(vw.layer.Sourced,{source:null,renderer:null,labelRenderer:null,setSource:function(a){this.source=a},getSource:function(){return this.source},setRenderer:function(a){null!=a&&a instanceof vw.renderer.Renderer&&(this.renderer=a)},getRenderer:function(){return this.renderer},setLabelRenderer:function(a){null!=a&&a instanceof vw.renderer.TextRenderer&&(this.labelRenderer=a)},getLabelRenderer:function(){return this.labelRenderer},addThis:function(){var a=this.getSource();if(null!=a){var b=vw.Util.getUniqId(this.CLASS_NAME),c=vw.StaticMap._XDcom.getLayerList().createWFSLayer(b,0);this.setName(b);var d=a.getUrl(),e=80,f="";d.indexOf("http://")>-1&&(d=d.replace("http://","")),d.indexOf(":")>-1?(e=d.substring(d.indexOf(":")+1,d.indexOf("/")),f=d.substring(d.indexOf("/"),d.length),d=d.substring(0,d.indexOf(":"))):(f=d.substring(d.indexOf("/"),d.length),d=d.substring(0,d.indexOf("/"))),c.setConnectionWFS(d,e,f),c.setLayersWFS(a.getLayerName());var g=15,h=vw.Util.trim(this.getLabelRenderer().getField()),i=this.getRenderer(),j=i.getStyle(),k=j.getText(),l=k.getHalo().color.getSopColor(),m=k.getFont().getColor().getSopColor(),n=k.getFont().getName();if(null!=j.getMarker().getSrc()){var o=j.getMarker().getSrc(),p=c.getWFSSymbol(),q=p.getIcon();q.setNormalIcon(o),p.setIcon(q),c.setWFSSymbol(p)}c.setRequestFeatureCount(a.getMaxFeatures()),c.setFontStyle(n,12,200,m,l),c.setWFSGeoField('sop:ag_geom'),c.setWFSPointName('sop:'+h),c.setViewLimit(20),c.setLevelWFS(13),c.setWFSPropertyName(vw.Util.trim(a.getFeatureNames())),c.setLevelWFS(g)}},addEvt:function(a,b,c,d,e){b==vw.EditType.INSERT&&e.addThis()},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.layer.Vector;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a){a instanceof vw.source.Source&&(this.source=a),this.renderer=new vw.renderer.SimpleRenderer,this.labelRenderer=new vw.renderer.TextRenderer},CLASS_NAME:"vw.layer.Vector"}),vw.layer.GraphicsGroup=vw.Util.Class(vw.layer.Group,{active:null,add:function(a){},setActive:function(a){},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.layer.GraphicsGroup;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.layer.GraphicsGroup"}),vw.layer.Graphics=vw.Util.Class(vw.layer.Feature,{clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.layer.Graphics;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.layer.Graphics"}),vw.layer.Graphic=vw.Util.Class(vw.layer.Feature,{label:null,labelVisible:null,clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.layer.Graphic;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a){},CLASS_NAME:"vw.layer.Graphic"}),vw.layer.Selection=vw.Util.Class(vw.layer.Feature,{clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.layer.Selection;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.layer.Selection"}),vw.layer.Terrain=vw.Util.Class(vw.layer.Sourced,{id:null,customTerrains:"",backgroundColor:"",wireframe:!1,wireframeColor:"",setId:function(a){this.id=a},getId:function(){return this.id},getCustomTerrains:function(){return this.customTerrains},setBackgroundColor:function(a){this.backgroundColor=a},getBackgroundColor:function(){return this.backgroundColor},setWireframe:function(a){this.wireframe=a},getWireframe:function(){return this.wireframe},setWireframeColor:function(a){this.wireframeColor=a},getWireframeColor:function(){return this.wireframeColor},getElevation:function(a){return vw.StaticMap._XDcom.getView().getTerrHeight(a.x,a.y)},setVisible:function(){return"지형은 숨길 수 없습니다."},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.layer.Terrain;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a){null==a&&(this.id="terrainLayer"),this.backgroundColor=vw.Color.BLACK,this.wireframe=!1,this.wireframeColor=vw.Color.WHITE},CLASS_NAME:"vw.layer.Terrain"}),vw.layer.Model=vw.Util.Class(vw.layer.Sourced,{source:null,texture:"",color:"",wireframe:!1,wireframeColor:"",setSource:function(a){this.source=pId},getSource:function(){return this.source},setTexture:function(a){this.texture=a},getTexture:function(){return this.texture},setColor:function(a){this.color=a},getColor:function(){return this.color},setWireframe:function(a){a?vw.StaticMap._XDcom.getView().setRenderMode(1):vw.StaticMap._XDcom.getView().setRenderMode(0),this.wireframe=a},getWireframe:function(){return this.wireframe},setWireframeColor:function(a){this.wireframeColor=a},getWireframeColor:function(){return this.wireframeColor},setVisible:function(a){this.visible=a;var b=258;b=a?258:257,"facility_build"==this.name&&(vw.StaticMap._XDcom.getLayerList().setVisible("facility_build",b),vw.StaticMap._XDcom.getLayerList().setVisible("facility_bridge",b),vw.Util.mapRender())},getVisible:function(){return this.visible},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.layer.Model;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a){null==a&&(this.id="BASE_Terrain"),this.backgroundColor=vw.Color.BLACK,this.wireframe=!1,this.wireframeColor=vw.Color.WHITE},CLASS_NAME:"vw.layer.Model"}),vw.Overlays=vw.Util.Class(vw.Object,{popup:"",chart:"",getPopup:function(){return this.popup},getChart:function(){return this.chart},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.Overlays;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.Overlays"}),vw.Overlay=vw.Util.Class(vw.Feature,{position:"",anchor:null,offset:"",visible:null,setPosition:function(a){this.position=a},getPosition:function(){return this.position},setAnchor:function(a){this.anchor=a},getAnchor:function(){return this.anchor},setOffset:function(a){this.offset=p},getOffset:function(){return this.offset},setVisible:function(a){this.visible=p},getVisible:function(){return this.visible},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.Overlay;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.anchor=vw.SiteAlignType.BOTTOM_CENTER,this.visible=!0},CLASS_NAME:"vw.Overlay"}),vw.layer.ChartGroup=vw.Util.Class(vw.layer.Group,{clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.layer.ChartGroup;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.layer.ChartGroup"}),vw.layer.Chart=vw.Util.Class(vw.layer.Feature,{styles:"",legend:"",setStyles:function(a){this.styles=p},getStyles:function(){return this.styles},setLegend:function(a){this.legend=a},getLegend:function(){return this.legend},setFeature:function(a){var b=vw.StaticMap._XDcom.getGraph(),c=b.createTable(a.id),d=vw.StaticMap._XDcom.createColor();c.setType(a.type),0==a.type?c.set2DSize(a.size.width,a.size.height):1==a.type?c.set2DSize(a.radius,a.radius):c.set2DSize(400,400),null!=this.minZoom?pTable.setVisibleRange(this.minZoom,this.maxZoom):pTable.setVisibleRange(1e3,1e5);for(var e=pTable.getLegends(),f=null,g=null,h=0;h<this.styles.length-1;h++)f=e.createLegend(),f.setCaption(this.styles[h].label),g=this.styles[h].color,d.setARGB(g.a,g.r,g.g,g.b),f.setColor(d);var i=pTable.getItems(),j=i.createItem(),k=vw.StaticMap._XDcom.createVec3();k.set(a.position.x,a.position.y,a.position.z),j.setPosition(k),j.setName(a.title);for(var h=0;h<a.value-1;h++)j.setEntry(h,a.value[h]);b.setVisible(!0)},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.layer.Chart;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.layer.Chart"}),vw.chart={},vw.chart.Chart=vw.Util.Class(vw.Overlay,{title:null,value:null,setTitle:function(a){this.title=p},getTitle:function(){return this.title},setValue:function(a){this.value=p},getValue:function(){return this.value},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.layer.Chart;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.chart.Chart"}),vw.chart.ChartStyle={color:"",label:"",legendLabel:""},vw.chart.ChartLegend=vw.Util.Class(vw.Object,{visible:null,setVisible:function(a){this.visible=a},getVisible:function(){return this.visible},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.layer.ChartLegend;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.setVisible(!1)},CLASS_NAME:"vw.chart.ChartLegend"}),vw.chart.Bar=vw.Util.Class(vw.chart.Chart,{size:null,type:0,setSize:function(a){this.size=a},getSize:function(){return this.size},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.chart.Bar(this.size);for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a){this.size=a},CLASS_NAME:"vw.chart.Bar"}),vw.chart.Pie=vw.Util.Class(vw.chart.Chart,{radius:null,type:1,setRadius:function(a){this.radius=pSize},getRadius:function(){return this.radius},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.chart.Pie(this.radius);for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a){this.radius=a},CLASS_NAME:"vw.chart.Pie"}),vw.source={},vw.source.Source=vw.Util.Class(vw.Object,{url:"",port:null,state:"",crs:"",extent:"",wrapX:"",setUrl:function(a){this.url=a},getUrl:function(){return this.url},setPort:function(a){this.port=a},getPort:function(){return this.port},getState:function(){return this.state},setCrs:function(a){this.crs=a},getCrs:function(){return this.crs},getExtent:function(){return this.extent},getFeatureInfo:function(a){},eventList:{onPropertyChanged:"vw.PropertyChangedEvent",onStateChanged:"vw.ChangedEvent",onLoadStart:"vw.Event",onLoadEnd:"vw.Event"},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.source.Source;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.source.Source"}),vw.source.State={UNDEFINED:"UNDEFINED",LOADING:"LOADING",ERROR:"ERROR",READY:"READY"},vw.source.Image=vw.Util.Class(vw.source.Source,{clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.source.Image;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.source.Image"}),vw.source.Format={Raster:{png:"png",jpg:"jpg",bmp:"bmp",svg:"svg"},Vector:{kml:"kml",geojson:"geojson",topojson:"topojson",gml2:"gml2",gml3:"gml3"}},vw.source.Tile=vw.Util.Class(vw.source.Source,{urls:null,tileGrid:null,setUrl:function(a){this.url=a,this.setUrls(a)},setUrls:function(a){null==this.urls&&(this.urls=new Array),this.urls[this.urls.length]=a},getUrls:function(){return this.urls},settileGrid:function(a){this.tileGrid=a},gettileGrid:function(){return this.tileGrid},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.source.Tile;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.urls=new Array},CLASS_NAME:"vw.source.Tile"}),vw.source.TileImage=vw.Util.Class(vw.source.Tile,{tileApplyRatio:null,setTileApplyRatio:function(a){this.tileApplyRatio=a},getTileApplyRatio:function(){return this.pTileApplyRatio},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.source.TileImage;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.tileApplyRatio=1},CLASS_NAME:"vw.source.TileImage"}),vw.source.TileWMS=vw.Util.Class(vw.source.TileImage,{params:"",version:"1.3.0",layers:"",styles:"",transparent:!0,format:"png",gutter:0,capabilitis:"",setParams:function(a){this.params=a},getParams:function(){return this.params},setVersion:function(a){this.version=a},getVersion:function(){return this.version},setLayers:function(a){this.layers=a},getLayers:function(){return this.layers},setStyles:function(a){this.styles=a},getStyles:function(){return this.styles},setTransparent:function(a){this.transparent=a},getTransparent:function(){return this.transparent},setFormat:function(a){this.format=a},getFormat:function(){return this.format;
},setGutter:function(a){this.gutter=a},getGutter:function(){return this.gutter},updateCapabilitis:function(){this.capabilitis=""},getCapabilitis:function(){return this.capabilitis},checkParams:function(a){return!0},getFeatureInfo:function(a,b){},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.source.TileWMS;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.version="1.3.0",this.transparent=!0,this.format="png"},CLASS_NAME:"vw.source.TileWMS"}),vw.source.WFS=vw.Util.Class(vw.source.TileImage,{params:null,version:"1.0.0",layerName:null,featureNames:null,filter:null,maxFeatures:null,outputFormat:null,capabilitis:null,setParams:function(a){this.params=a},getParams:function(){return this.params},setVersion:function(a){this.version=a},getVersion:function(){return this.version},setLayerName:function(a){this.layerName=a},getLayerName:function(){return this.layerName},setFeatureNames:function(a){this.featureNames=a},getFeatureNames:function(){return this.featureNames},setMaxFeatures:function(a){this.maxFeatures=pFilter},getMaxFeatures:function(){return this.maxFeatures},setOutputFormat:function(a){this.outputFormat=pFormat},getOutputFormat:function(){return this.outputFormat},getCapabilitis:function(){return this.capabilitis},checkParams:function(a){return!0},getFeatures:function(a,b){return""},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.source.WFS;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a,b){this.url=a,this.params=b,this.maxFeatures=800},CLASS_NAME:"vw.source.WFS"}),vw.source.WMTS=vw.Util.Class(vw.source.TileImage,{params:"",version:"1.0.0",layer:"",style:"",format:"png",matrixSet:"",dimension:"",requestEncoding:"KVP",capabilities:"",setParams:function(a){this.params=a},getParams:function(){return this.params},setVersion:function(a){this.version=a},getVersion:function(){return this.version},setLayer:function(a){this.layer=pLayers},getLayer:function(){return this.layer},setStyle:function(a){this.styles=a},getStyle:function(){return this.styles},setFormat:function(a){this.format=a},getFormat:function(){return this.format},setMatrixSet:function(a){this.matrixSet=a},getMatrixSet:function(){return this.matrixSet},setDimension:function(a){this.dimension=a},getDimension:function(){return this.dimension},setRequestEncoding:function(a){this.requestEncoding=a},getRequestEncoding:function(){return this.requestEncoding},checkParams:function(a){},getCapabilitis:function(){return this.capabilitis},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.source.WMTS;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.version="1.0.0",this.format="png",this.requestEncoding="KVP"},CLASS_NAME:"vw.source.WMTS"}),vw.source.Vector=vw.Util.Class(vw.source.Source,{format:"",fieldDefs:"",features:"",editable:!1,setFormat:function(a){var b=this.format;this.format=a,vw.ChangedEvent(this,"onStateChanged",b,a)},getFormat:function(){return this.format},setFieldDefs:function(a){var b=this.pFieldDefs;this.fieldDefs=a,vw.ChangedEvent(this,"onStateChanged",b,a)},getFieldDefs:function(){return this.fieldDefs},getFeatures:function(){return this.features},getEditable:function(){return this.editable},save:function(){return!0},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.source.Vector;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.editable=!1,this.features=new vw.Features},CLASS_NAME:"vw.source.Vector"}),vw.source.Model=vw.Util.Class(vw.source.Source,{clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.source.Model;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.source.Model"}),vw.callback.Callback=function(a){return!0},vw.tilegrid=function(){},vw.tilegrid.TileGrid=vw.Util.Class(vw.Object,{extent:"",minZoom:0,maxZoom:19,origin:"",tileSize:null,getExtent:function(){return this.extent},setMinZoom:function(a){this.minZoom=a},getMinZoom:function(){return this.minZoom},setMaxZoom:function(a){this.maxZoom=a},getMaxZoom:function(){return this.maxZoom},setOrigin:function(a){this.origin=a},getOrigin:function(){return this.origin},setTileSize:function(a){this.tileSize=a},getTileSize:function(){return this.tileSize},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.tilegrid.TileGrid;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.minZoom=1,this.maxZoom=15,this.tileSize=new vw.Size(256,256)},CLASS_NAME:"vw.tilegrid.TileGrid"}),vw.tilegrid.TileGridBasic=vw.Util.Class(vw.Object,{tileInfos:"",setTileInfos:function(a){this.tileInfos=a},getTileInfos:function(){this.this.tileInfos},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.tilegrid.TileGridBasic;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.tilegrid.TileGridBasic"}),vw.tilegrid.TileInfo={level:null,origin:null,resolution:null},vw.geom={},vw.geom.Geometry=vw.Util.Class(vw.Object,{extent:"",getExtent:function(){return this.extent},eventList:{onPropertyChanged:"vw.PropertyChangedEvent",onChanged:"vw.ChangedEvent"},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.geom.Geometry;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.geom.Geometry"}),vw.callback.TransformXY=function(a){return a},vw.callback.TransformZ=function(a){return a},vw.geom.GeometryXY=vw.Util.Class(vw.geom.Geometry,{translate:function(a,b){},transform:function(a){var b=new vw.Coord;return vw.callback.TransformXY(b)},getClosestPointFromPoint:function(a){var b=new vw.Coord;return b},isIntersectsByExtent:function(a){return!0},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.geom.GeometryXY;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.geom.GeometryXY"}),vw.geom.PointGroup=vw.Util.Class(vw.geom.GeometryXY,{initialize:function(){},CLASS_NAME:"vw.geom.PointGroup"}),vw.geom.Point=vw.Util.Class(vw.geom.PointGroup,{coord:null,setCoord:function(a){return a instanceof vw.Coord?void(this.coord=a):vw.Exception.errorStr.UNSUPPORTED_TYPE},getCoord:function(){return this.coord},getDistanceToPoint:function(a){return null!=this.coord&&(null!=a&&"undifined"!=a&&a instanceof vw.Coord&&vw.Util.getDistance(this.coord,a))},create:function(){var a=vw.StaticMap._XDcom.createVec3();a.set(this.coord.x,this.coord.y,vw.StaticMap._XDcom.getView().getTerrHeight(this.coord.x,this.coord.y));var b=vw.StaticMap._XDcom.createPoint(pCoord.x);b.Set(a);var c=b.getSymbol(),d=c.getIcon(),e=vw.BaseStyle.marker.src;d.setNormalIcon(e),b.setName(name),b.setDescription("포인트 객체"),c.setIcon(d),b.setSymbol(c),vw.StaticMap._XDcom.getView().addChild(b,8),inputPointArr=new Array},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.geom.Point(this.coord);for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a){a instanceof vw.Coord&&(this.coord=a)},CLASS_NAME:"vw.geom.Point"}),vw.geom.Line=vw.Util.Class(vw.geom.PointGroup,{start:null,end:null,setStart:function(a){a instanceof vw.Coord&&(this.start=a)},getStart:function(){return this.start},setEnd:function(a){a instanceof vw.Coord&&(this.end=a)},getEnd:function(){return this.end},getPointByDistance:function(a,b){var c=0;return b||this.getLenth()<a&&(c=!1),c},getLength:function(){return null!=this.start&&null!=this.end&&(this.start instanceof vw.Coord&&this.end instanceof vw.Coord&&vw.Util.getDistance(this.start,this.end))},initialize:function(a,b){a instanceof vw.Coord&&(this.start=a),b instanceof vw.Coord&&(this.end=b)},CLASS_NAME:"vw.geom.Line"}),vw.geom.LineString=vw.Util.Class(vw.geom.PointGroup,{points:null,setPoints:function(a){a instanceof vw.Collection&&a.getCount()>1&&(this.points=a)},getPoints:function(){return this.points},getSegment:function(a){return new vw.geom.Line(this.points.item(a))},getPointByDistance:function(a,b){var c=0;return b||this.getLenth()<a&&(c=!1),c},getLength:function(){return 10},initialize:function(a){a instanceof vw.Collection&&a.getCount()>1&&(this.points=a)},CLASS_NAME:"vw.geom.LineString"}),vw.geom.LinearRing=vw.Util.Class(vw.geom.PointGroup,{points:null,setPoints:function(a){a instanceof vw.Collection&&a.getCount()>1&&(a.add(a.item(0)),this.points=a)},getPoints:function(){return this.points},getSegment:function(a){return!(a>this.getPoints().getCount()-1)&&new vw.geom.Line(this.points.item(a),this.points.item(a+1))},getArea:function(){for(var a=0,b=0;b<this.points.getCount();b++)a+=this.points.item(b).x*this.points.item(b+1).y-this.points.item(b+1).x*this.points.item(b).y;return a=Math.abs(a)/2},getLength:function(){for(var a=0,b=0;b<this.points.getCount()-1;b++)a+=vw.Util.getDistance(this.points.item(b),this.points.item(b+1));return a},initialize:function(a){a instanceof vw.Collection&&a.getCount()>1&&(a.add(a.item(0)),this.points=a)},CLASS_NAME:"vw.geom.LinearRing"}),vw.geom.Polygon=vw.Util.Class(vw.geom.PointGroup,{rings:null,getRings:function(){return this.rings},getArea:function(){return 10},getLength:function(){for(var a=0,b=0;b<this.points.getCount()-1;b++)a+=vw.Util.getDistance(this.points.item(b),this.points.item(b+1));return a},getCenterPoint:function(){return new vw.Coord(1,1,1)},initialize:function(a){null!=a&&"undifined"!=a&&(a instanceof Array?this.rings=new vw.Collection(a):a instanceof vw.Collection&&(this.rings=a))},CLASS_NAME:"vw.geom.Polygon"}),vw.geom.Polygon.PolygonfromCircle=function(a,b){return null},vw.geom.Polygon.fromRegularShape=function(a){return null},vw.geom.Polygon.fromExtent=function(a){return null},vw.geom.PolygonZ=vw.Util.Class(vw.geom.PointGroup,{rings:null,getRings:function(){return this.rings},getArea:function(){return 10},getLength:function(){for(var a=0,b=0;b<this.points.getCount()-1;b++)a+=vw.Util.getDistance(this.points.item(b),this.points.item(b+1));return a},getCenterPoint:function(){return new vw.CoordZ(1,1,1)},initialize:function(a){null!=a&&"undifined"!=a&&(a instanceof Array?this.rings=new vw.Collection(a):a instanceof vw.Collection&&(this.rings=a))},CLASS_NAME:"vw.geom.PolygonZ"}),vw.geom.PolygonZ.PolygonfromCircle=function(a,b){return null},vw.geom.PolygonZ.fromRegularShape=function(a){return null},vw.geom.PolygonZ.fromExtent=function(a){return null},vw.geom.Circle=vw.Util.Class(vw.geom.GeometryXY,{center:null,radius:null,type:2,getType:function(){return this.type},getCenter:function(){return this.center},setCenter:function(a){null!=a&&"undifined"!=a&&a instanceof vw.Coord&&(this.center=a)},setRadius:function(a){null!=a&&"undifined"!=a&&(isNaN(a)||(this.radius=a))},getRadius:function(){return this.radius},initialize:function(a,b){null!=a&&"undifined"!=a&&a instanceof vw.Coord&&(this.center=a),null!=b&&"undifined"!=b&&(isNaN(b)||(this.radius=b))},CLASS_NAME:"vw.geom.Circle"}),vw.geom.RegularShape=vw.Util.Class(vw.geom.GeometryXY,{center:null,radius:null,sides:null,type:2,getType:function(){return this.type},getCenter:function(){return this.center},setCenter:function(a){null!=a&&"undifined"!=a&&a instanceof vw.Coord&&(this.center=a)},setRadius:function(a){null!=a&&"undifined"!=a&&(isNaN(a)||(this.radius=a))},getRadius:function(){return this.radius},getSides:function(){return this.sides},setSides:function(a){null!=a&&"undifined"!=a&&(isNaN(a)||(a<3?this.sides=3:this.sides=a))},initialize:function(a,b,c){null!=a&&"undifined"!=a&&a instanceof vw.Coord&&(this.center=a),null!=b&&"undifined"!=b&&(isNaN(b)||(this.radius=b)),null!=c&&"undifined"!=c&&(isNaN(c)||(c<3?this.sides=3:this.sides=c))},CLASS_NAME:"vw.geom.RegularShape"}),vw.geom.SpecialShape=vw.Util.Class(vw.geom.GeometryXY,{center:null,radius:null,type:null,getCenter:function(){return this.center},setCenter:function(a){null!=a&&"undifined"!=a&&a instanceof vw.Coord&&(this.center=a)},setRadius:function(a){null!=a&&"undifined"!=a&&(isNaN(a)||(this.radius=a))},getRadius:function(){return this.radius},getType:function(){return this.type},setType:function(a){null!=a&&a in vw.geom.SpecialShapeType&&(this.type=a)},initialize:function(a,b,c){null!=a&&"undifined"!=a&&a instanceof vw.Coord&&(this.center=a),null!=b&&"undifined"!=b&&(isNaN(b)||(this.radius=b)),null!=c&&"undifined"!=c&&(this.type=c)},CLASS_NAME:"vw.geom.SpecialShape"}),vw.geom.SpecialShapeType={STAR:9},vw.geom.GeometryZ=vw.Util.Class(vw.geom.Geometry,{translate:function(a,b,c){},transform:function(a){},getClosestPointFromPoint:function(a){return new vw.CoordZ(1,1,1)},isIntersectsByExtent:function(a){return!0},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.geom.GeometryZ;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.geom.GeometryZ"}),vw.geom.PointZGroup=vw.Util.Class(vw.geom.GeometryZ,{initialize:function(){},CLASS_NAME:"vw.geom.PointZGroup"}),vw.geom.PointZ=vw.Util.Class(vw.geom.PointZGroup,{coord:null,setCoord:function(a){this.coord=a},getCoord:function(){return this.coord},getDistanceToPoint:function(a){var b=10;return b},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.geom.PointZ(this.coord);for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a){this.coord=a},CLASS_NAME:"vw.geom.PointZ"}),vw.geom.LineZ=vw.Util.Class(vw.geom.PointZGroup,{start:null,end:null,setStart:function(a){this.start=a},getStart:function(){return this.start},setEnd:function(a){this.end=a},getEnd:function(){return this.end},getPointByDistance:function(a,b){return new vw.CoordZ(1,1,1)},getLength:function(){return 20},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.geom.LineZ(this.start,this.end);for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a,b){this.start=a,this.end=b},CLASS_NAME:"vw.geom.LineZ"}),vw.geom.LineStringZ=vw.Util.Class(vw.geom.PointZGroup,{setPoints:function(a){this.points=a},getPoints:function(){return this.points},getSegment:function(a){return new vw.geom.Line(this.points.item(a))},getPointByDistance:function(a,b){return new vw.Coordz(1,1,1)},getLength:function(){return 10},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.geom.LineStringZ(this.points);for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a){this.points=a},CLASS_NAME:"vw.geom.LineStringZ"}),vw.geom.CircleZ=vw.Util.Class(vw.geom.GeometryZ,{center:null,radius:null,type:2,getType:function(){return this.type},getCenter:function(){return this.center},setCenter:function(a){null!=a&&"undifined"!=a&&a instanceof vw.Coord&&(this.center=a)},setRadius:function(a){null!=a&&"undifined"!=a&&(isNaN(a)||(this.radius=a))},getRadius:function(){return this.radius},initialize:function(a,b){null!=a&&"undifined"!=a&&a instanceof vw.CoordZ&&(this.center=a),null!=b&&"undifined"!=b&&(isNaN(b)||(this.radius=b))},CLASS_NAME:"vw.geom.CircleZ"}),vw.geom.RegularShapeZ=vw.Util.Class(vw.geom.GeometryZ,{center:null,radius:null,sides:null,type:2,getType:function(){return this.type},getCenter:function(){return this.center},setCenter:function(a){null!=a&&"undifined"!=a&&a instanceof vw.Coord&&(this.center=a)},setRadius:function(a){null!=a&&"undifined"!=a&&(isNaN(a)||(this.radius=a))},getRadius:function(){return this.radius},getSides:function(){return this.sides},setSides:function(a){null!=a&&"undifined"!=a&&(isNaN(a)||(a<3?this.sides=3:this.sides=a))},initialize:function(a,b,c){null!=a&&"undifined"!=a&&a instanceof vw.CoordZ&&(this.center=a),null!=b&&"undifined"!=b&&(isNaN(b)||(this.radius=b)),null!=c&&"undifined"!=c&&(isNaN(c)||(c<3?this.sides=3:this.sides=c))},CLASS_NAME:"vw.geom.RegularShapeZ"}),vw.geom.SpecialShapeZ=vw.Util.Class(vw.geom.GeometryZ,{center:null,radius:null,type:null,getCenter:function(){return this.center},setCenter:function(a){null!=a&&"undifined"!=a&&a instanceof vw.Coord&&(this.center=a)},setRadius:function(a){null!=a&&"undifined"!=a&&(isNaN(a)||(this.radius=a))},getRadius:function(){return this.radius},getType:function(){return this.type},setType:function(a){null!=a&&a in vw.geom.SpecialShapeType&&(this.type=a)},initialize:function(a,b,c){null!=a&&"undifined"!=a&&a instanceof vw.CoordZ&&(this.center=a),null!=b&&"undifined"!=b&&(isNaN(b)||(this.radius=b)),null!=c&&"undifined"!=c&&(this.type=c)},CLASS_NAME:"vw.geom.SpecialShapeZ"}),vw.geom.Model=vw.Util.Class(vw.geom.GeometryZ,{position:null,initialize:function(){},CLASS_NAME:"vw.geom.Model"}),vw.renderer=function(){},vw.renderer.Renderer=vw.Util.Class(vw.Object,{initialize:function(){},CLASS_NAME:"vw.renderer.Renderer"}),vw.renderer.SimpleRenderer=vw.Util.Class(vw.renderer.Renderer,{style:null,setStyle:function(a){this.style=a},getStyle:function(){return this.style},initialize:function(){this.style=new vw.style.StyleGroup},CLASS_NAME:"vw.renderer.SimpleRenderer"}),vw.renderer.ValueRenderer=function(){this.field="",this.defaultStyle="",this.values=""},vw.renderer.ValueRenderer.prototype.setFromValues=function(a){},vw.renderer.RangeRenderer=function(){this.field="",this.defaultStyle="",this.Ranges=""},vw.renderer.RangeRenderer.prototype.setFromValues=function(a,b,c,d){},vw.renderer.Range=function(){this.caption="",this.min="",this.max="",this.style=""},vw.renderer.TextRenderer=vw.Util.Class(vw.Object,{field:"",visible:"",renderer:"",setField:function(a){this.field=a},getField:function(){return this.field},setVisible:function(a){this.visible=a},getVisible:function(){return this.visible},setRenderer:function(a){this.renderer=a},getRenderer:function(){return this.renderer},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.renderer.TextRenderer;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.visible=!0},CLASS_NAME:"vw.renderer.TextRenderer"}),vw.style=function(){},vw.style.StyleGroup=vw.Util.Class(vw.Object,{marker:"",stroke:"",fill:"",text:"",setMarker:function(a){this.marker=a},getMarker:function(){return this.marker},setStroke:function(a){this.stroke=a},getStroke:function(){return this.stroke},setFill:function(a){this.fill=a},getFill:function(){return this.fill},setText:function(a){this.text=a},getText:function(){return this.text},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.style.StyleGroup;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.marker=new vw.style.Icon,this.stroke=new vw.style.Stroke,this.fill=new vw.style.Fill,this.text=new vw.style.Text},CLASS_NAME:"vw.style.StyleGroup"}),vw.style.Style=vw.Util.Class(vw.Object,{opacity:1,initialize:function(){},CLASS_NAME:"vw.style.Style"}),vw.style.FillPattern={NULL:"NULL",SOLID:"SOLID",HORIZONTAL:"HORIZONTAL",VERTICAL:"VERTICAL",CROSS:"CROSS",FORWARD_DIAGONAL:"FORWARD_DIAGONAL",BACKWARD_DIAGONAL:"BACKWARD_DIAGONAL",DIAGONAL_CROSS:"DIAGONAL_CROSS"},vw.style.ScaledStyle=vw.Util.Class(vw.style.Style,{scaleDependency:!1,clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.style.ScaledStyle;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.style.ScaledStyle"}),vw.style.StrokePattern={NULL:"NULL",SOLID:"SOLID",DASH:"DASH",DASHDOT:"DASHDOT",DASHDOTDOT:"DASHDOTDOT",DOT:"DOT",LONGDASH:"LONGDASH",LONGDASHDOT:"LONGDASHDOT"},vw.style.Stroke=vw.Util.Class(vw.style.ScaledStyle,{color:vw.Color.BLACK,pattern:vw.style.StrokePattern.SOLID,width:1,setColor:function(a){this.color=a},getColor:function(){return this.color},setPattern:function(a){this.pattern=a},getPattern:function(){return this.pattern},setWidth:function(a){this.width=a},getWidth:function(){return this.width},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.style.Stroke;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a){null!=a&&(this.color=a)},CLASS_NAME:"vw.style.Stroke"}),vw.style.Fill=vw.Util.Class(vw.style.Style,{color:null,pattern:vw.style.FillPattern.SOLID,stroke:new vw.style.Stroke,setColor:function(a){this.color=a},getColor:function(){return this.color},setPattern:function(a){this.pattern=a},getPattern:function(){return this.pattern},setStroke:function(a){this.stroke=a},getStroke:function(){return this.stroke},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.style.Fill;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(a){null!=a?this.color=a:this.color=vw.Color.BLUE},CLASS_NAME:"vw.style.Fill"}),vw.style.Pipe=vw.Util.Class(vw.style.Stroke,{sectionGeometry:"",offset:"",initialize:function(a){null!=a&&(this.color=a)},CLASS_NAME:"vw.style.Pipe"}),vw.style.Marker=vw.Util.Class(vw.style.ScaledStyle,{anchor:vw.SiteAlignType.BOTTOM_CENTER,offset:"",rotateWithView:"",rotation:"",multiplier:"",setAnchor:function(a){this.anchor=a},getAnchor:function(){return this.anchor},setOffset:function(a){this.offset=a},getOffset:function(){return this.offset},setRotateWithView:function(a){this.rotateWithView=a},getRotateWithView:function(){return this.rotateWithView},setRotation:function(a){this.rotation=a},getRotation:function(){return this.rotation},setMultiplier:function(a){this.multiplier=a},getMultiplier:function(){return this.multiplier},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.style.Marker;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.anchor=vw.SiteAlignType.BOTTOM_CENTER},CLASS_NAME:"vw.style.Marker"}),vw.style.Icon=vw.Util.Class(vw.style.Marker,{src:null,size:"",stretch:"NONE",setSrc:function(a){this.src=a},getSrc:function(){return this.src},setSize:function(a){this.size=a},getSize:function(){return this.size},setStretch:function(a){this.stretch=a},getStretch:function(){return this.stretch},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.style.Icon;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.stretch="NONE"},CLASS_NAME:"vw.style.Icon"}),vw.style.Geometry=vw.Util.Class(vw.style.Marker,{geometry:"",fill:"",stroke:"",setGeometry:function(a){this.geometry=a},getGeometry:function(){return this.geometry},setFill:function(a){this.fill=p},getFill:function(){return this.fill},setStroke:function(a){this.stroke=a},getStroke:function(){return this.stroke},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.Geometry;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.style.Geometry"}),vw.HorizontalAlign={LEFT:"LEFT",CENTER:"CENTER",RIGHT:"RIGHT",JUSTIFY:"JUSTIFY"},vw.style.Text=vw.Util.Class(vw.style.ScaledStyle,{font:"",offset:"",textAlign:vw.HorizontalAlign.CENTER,rotateWithView:!0,rotation:0,halo:"",background:"",setFont:function(a){this.font=a},getFont:function(){return this.font},setOffset:function(a){this.offset=a},getOffset:function(){return this.offset},setTextAlign:function(a){this.textAlign=a},getTextAlign:function(){return this.textAlign},setRotateWithView:function(a){this.rotateWithView=p},getRotateWithView:function(){return this.rotateWithView},setRotation:function(a){this.rotation=a},getRotation:function(){return this.rotation},getHalo:function(){return this.halo},getBackground:function(){return this.background},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.Text;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.textAlign=vw.HorizontalAlign.CENTER,this.rotateWithView=!0,this.rotation=0,this.font=new vw.style.Font,this.halo=new vw.TextHalo,this.background=new vw.TextBackground},CLASS_NAME:"vw.style.Text"}),vw.style.Font=vw.Util.Class({name:"",size:"",color:"",setName:function(a){this.name=a},getName:function(){return this.name},setSize:function(a){this.size=a},getSize:function(){return this.size},setColor:function(a){a instanceof vw.Color&&(this.color=a)},getColor:function(){return this.color},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.style.Font;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){this.name="굴림체",this.size=12,this.color=vw.Color.BLACK},CLASS_NAME:"vw.style.Font"}),vw.Font=vw.Util.Class({bold:"",name:"",size:"",italic:"",underline:"",color:"",setBold:function(a){this.bold=a},getBold:function(){return this.bold},setName:function(a){this.name=a},getName:function(){return this.name},setSize:function(a){this.size=a},getSize:function(){return this.size},setItalic:function(a){this.italic=a},getItalic:function(){return this.italic},setUnderline:function(a){this.underline=a},getUnderline:function(){return this.underline},setColor:function(a){this.color=a},getColor:function(){return this.color},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.style.Font;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},initialize:function(){},CLASS_NAME:"vw.style.Font"}),vw.TextHalo=vw.Util.Class({enabled:!1,color:null,size:null,initialize:function(){},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.TextHalo;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},CLASS_NAME:"vw.TextHalo"}),vw.TextBackground=vw.Util.Class({enabled:!1,style:"",autoSize:!0,color:"",size:"",initialize:function(){},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.TextBackground;for(var b in this)this.hasOwnProperty(b)&&(a[b]=this[b]);return a},CLASS_NAME:"vw.TextBackground"}),vw.BaseStyle=new vw.style.StyleGroup,vw.BaseStyle.marker=new vw.style.Icon,vw.BaseStyle.marker.src="http://xdworld.vworld.kr:8080/dll_home/icons/base_star.png",vw.BaseStyle.stroke=new vw.style.Stroke(vw.Color.RED),vw.BaseStyle.fill=new vw.style.Fill,vw.BaseStyle.text=new vw.style.Text,vw.BasicOptions=new vw.MapOptions(vw.BasemapType.GRAPHIC,"",vw.DensityType.FULL,vw.DensityType.BASIC,new vw.CameraPosition(new vw.CoordZ(127.425,38.196,13487e3),new vw.Direction(0,80,0)),new vw.CameraPosition(new vw.CoordZ(127.425,38.196,1348),new vw.Direction(0,60,0))),exitMoveFlag=false,indoorModeFlag=false,vw.Indoor={};vw.Indoor.INDOORLIST_URL='http://map.vworld.kr/map/CatogyIndoorList.do',vw.Indoor.INDOORGATELIST_URL='http://map.vworld.kr/map/IndoorInAndOutList.do',vw.Indoor.INDOORINFOLIST_URL='http://map.vworld.kr/map/IndoorAttributeInfo.do',vw.Indoor.INDOOR_LAYER_POI='poi_indoor',vw.Indoor.INDOOR_LAYER_BUILD='indoor_build_HD',vw.Indoor.DEFAULT_LAYER_BUILD='facility_build',vw.Indoor.INDOOR_LAYER_FOR_2D='indoor_area',vw.Indoor.INDOOR_LAYERS=[vw.Indoor.INDOOR_LAYER_POI,vw.Indoor.INDOOR_LAYER_BUILD],vw.Indoor.INDOOR_LAYERS_EXCLUDE=[vw.Indoor.DEFAULT_LAYER_BUILD,'hybrid_bound','poi_base','facility_build_lod1', 'facility_build_lod3'],vw.Indoor.INDOOR_CATEGORY=["공항","지하철역","전시장","기차역"],vw.Indoors=vw.Util.Class(vw.Object,{indoorlayerObj:null,indoorlayerPoiObj:null,_indoorCamera:null,_indoorView:null,_MapObj:null,start:function(){indoorlayerObj=this._MapObj.getLayerList().nameAtLayer(vw.Indoor.INDOOR_LAYER_BUILD);indoorlayerPoiObj=this._MapObj.getLayerList().nameAtLayer(vw.Indoor.INDOOR_LAYER_POI);var layerCount=this._MapObj.getLayerList().count();for(var i=0;i<layerCount;i++){try{this._MapObj.getLayerList().setVisible(this._MapObj.getLayerList().indexAtLayer(i).getName(),257)}catch(e){}}if(indoorlayerObj==null&&indoorlayerPoiObj!=null){this._MapObj.SetServerLayerURL("xdworld.vworld.kr:8080/real3d","indoor_build_HD"),this._MapObj.getLayerList().setVisible("indoor_build_HD",258)}else if(indoorlayerObj!=null&&indoorlayerPoiObj==null){this._MapObj.SetServerLayerURL("xdworld.vworld.kr:8080/real3d","poi_indoor"),this._MapObj.getLayerList().setVisible("indoor_build_HD",258)}else if(indoorlayerObj!=null&&indoorlayerPoiObj!=null){this._MapObj.getLayerList().setVisible("indoor_build_HD",258),this._MapObj.getLayerList().setVisible("poi_indoor",258)}else{this._MapObj.SetServerLayerURL("xdworld.vworld.kr:8080/real3d","indoor_build_HD"),this._MapObj.SetServerLayerURL("xdworld.vworld.kr:8080/real3d","poi_indoor"),this._MapObj.getLayerList().setVisible("indoor_build_HD",258),this._MapObj.getLayerList().setVisible("poi_indoor",258)}var mapMode=this._indoorView.getWorkMode();if(mapMode!=1){this._indoorView.setWorkMode(1)}var nowAlt=this._indoorCamera.getAltitude();if(nowAlt>20000){this._indoorCamera.moveLonLatAltOval(126.98453506288851,37.49207023859339,7000,0),this._indoorCamera.setTilt(70),this._indoorCamera.setDirect(0)}indoorModeFlag=true},stop:function(){var camflag=this._indoorCamera.getMoveMode();var nowALt=this._indoorCamera.getAltitude();this._indoorCamera.setAnimationSpeed(10);if(indoorModeFlag){indoorlayerObj=this._MapObj.getLayerList().nameAtLayer(vw.Indoor.INDOOR_LAYER_BUILD);indoorlayerPoiObj=this._MapObj.getLayerList().nameAtLayer(vw.Indoor.INDOOR_LAYER_POI);if((typeof vw.Indoor.INDOOR_LAYERS_EXCLUDE!='object')||(vw.Indoor.INDOOR_LAYERS_EXCLUDE.length==0))return;for(var i=0;i<vw.Indoor.INDOOR_LAYERS_EXCLUDE.length;i++){try{this._MapObj.getLayerList().setVisible(vw.Indoor.INDOOR_LAYERS_EXCLUDE[i],258)}catch(e){}}if(indoorlayerObj!=null&&indoorlayerPoiObj==null){this._MapObj.getLayerList().setVisible("indoor_build_HD",257)}else if(indoorlayerObj==null&&indoorlayerPoiObj!=null){this._MapObj.getLayerList().setVisible("poi_indoor",257)}else{this._MapObj.getLayerList().setVisible("indoor_build_HD",257),this._MapObj.getLayerList().setVisible("poi_indoor",257)}if(camflag){this._indoorCamera.setMoveMode(!camflag);this._indoorCamera.setPickMode(false);setTimeout(function(){if(nowALt<300){this._indoorCamera.setAltitude(300),this._indoorCamera.setTilt(80)}}.bind(this),300);this._indoorCamera.setPickMode(false);this._indoorView.setTerrainAlphaMode(false);this._indoorView.updateRTT()}this._MapControl.setMouseXInvert(false),this._MapControl.setMouseYInvert(false),this._MapControl.setKeyTogglemode(false),indoorModeFlag=false}},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.Indoors();for(var b in this){if(this.hasOwnProperty(b))a[b]=this[b]}return a},initialize:function(){},CLASS_NAME:"vw.Indoors"}),vw.indoor={},vw.indoor.Indoor=vw.Util.Class(vw.Indoors,{_indoorCamera:null,_indoorView:null,_MapObj:null,_MapControl:null,moveMode:false,wallCheck:false,wallRange:12,animationSpeed:4,seemless:false,mouseXInvert:false,mouseYInvert:false,keyboardMode:false,setMoveMode:function(a){if(indoorModeFlag){if(typeof a=="boolean"){this._indoorCamera.setMoveMode(a),this.moveMode=a}else{vw.Exception.setErrorString(vw.Exception.errorStr.UNSUPPORTED_TYPE)}}},getMoveMode:function(){return this.moveMode=this._indoorCamera.getMoveMode()},setWallCheck:function(a){if(indoorModeFlag){if(typeof a=="boolean"){this._indoorCamera.setPickMode(a),this.wallCheck=a}else{vw.Exception.setErrorString(vw.Exception.errorStr.UNSUPPORTED_TYPE)}}else{this.wallCheck=false}},getWallCheck:function(){if(indoorModeFlag){return this.wallCheck}else{return this.wallCheck=false}},setSeemless:function(a){if(indoorModeFlag){if(typeof a=="boolean"){this._indoorView.setTerrainAlphaMode(a),this.seemless=a,vw.StaticMap._XDcom.setPluginFocus()}else{vw.Exception.setErrorString(vw.Exception.errorStr.UNSUPPORTED_TYPE)}}else{this.seemless=false}},getSeemless:function(){if(indoorModeFlag){return this.seemless}else{return this.seemless=false}},setWallRange:function(a){if(indoorModeFlag){if(typeof a=="number"){this._indoorCamera.setFloorPickRange(a),this.wallRange=a}else{vw.Exception.setErrorString(vw.Exception.errorStr.UNSUPPORTED_TYPE)}}else{this.wallRange=12}},getWallRange:function(){return this.wallRange=this._indoorCamera.getFloorPickRange()},setAnimationSpeed:function(a){if(indoorModeFlag){if(typeof a=="number"&&(0<a<11)){this._indoorCamera.setAnimationSpeed(a),this.animationSpeed=a}else{vw.Exception.setErrorString(vw.Exception.errorStr.UNSUPPORTED_TYPE)}}else{this.animationSpeed=4}},getAnimationSpeed:function(){return this.animationSpeed=this._indoorCamera.getAnimationSpeed()},setMouseXInvert:function(a){if(indoorModeFlag){if(typeof a=="boolean"){this._MapControl.setMouseXInvert(a),this.mouseXInvert=a}else{vw.Exception.setErrorString(vw.Exception.errorStr.UNSUPPORTED_TYPE)}}else{this.mouseXInvert=false}},getMouseXInvert:function(){return this.mouseXInvert=this._MapControl.getMouseXInvert()},setMouseYInvert:function(a){if(indoorModeFlag){if(typeof a=="boolean"){this._MapControl.setMouseYInvert(a),this.mouseYInvent=a}else{vw.Exception.setErrorString(vw.Exception.errorStr.UNSUPPORTED_TYPE)}}else{this.mouseYInvert=false}},getMouseYInvert:function(){return this.mouseYInvert=this._MapControl.getMouseYInvert()},setKeyboardMode:function(a){if(indoorModeFlag){if(typeof a=="boolean"){this._MapControl.setKeyTogglemode(a),this.keyboardMode=a}else{vw.Exception.setErrorString(vw.Exception.errorStr.UNSUPPORTED_TYPE)}}else{this.keyboardMode=false}},getKeyboardMode:function(){if(indoorModeFlag){return this.keyboardMode}else{return this.keyboardMode=false}},moveIndoorEntrance:function(uid,x,y,z,tilt,direct){if(indoorModeFlag){var camflag=this._indoorCamera.getMoveMode();var nowALt=this._indoorCamera.getAltitude();if(camflag==true){this._indoorCamera.setMoveMode(!camflag),this._indoorCamera.setPickMode(false),this._indoorCamera.setAltitude(300),this._indoorCamera.setTilt(80)}var timedelay=500;if(camflag){timedelay=2500}setTimeout(function(){var indoorAlt=this._indoorCamera.getAltitude();if(uid=="S025"||uid=="S024"){this._indoorCamera.setAnimationSpeed(this.animationSpeed),this._indoorCamera.setMoveMode(true),this._indoorCamera.setPickMode(true),this._indoorCamera.moveLonLat(x,y),this._indoorCamera.setAltitude(z),this._indoorCamera.setTilt(tilt),this._indoorCamera.setDirect(direct)}else{this._indoorCamera.setPickMode(false),this._indoorCamera.moveLonLat(x,y),this._indoorCamera.setAltitude(z),this._indoorCamera.setTilt(tilt),this._indoorCamera.setDirect(direct);if(indoorAlt<=700){setTimeout(function(){this._indoorCamera.setAnimationSpeed(this.animationSpeed),this._indoorCamera.setMoveMode(true),this._indoorCamera.setPickMode(true)}.bind(this),5000)}else if(indoorAlt>=701){setTimeout(function(){this._indoorCamera.setAnimationSpeed(this.animationSpeed),this._indoorCamera.setMoveMode(true),this._indoorCamera.setPickMode(true)}.bind(this),7000)}}}.bind(this),timedelay)}vw.StaticMap.setFocus()},moveIndoorInside:function(uid,x,y,z,direct){if(indoorModeFlag){this._indoorView.MapRender();var vec3=vw.StaticMap._XDcom.createVec3();vec3.Longitude=x;vec3.Latitude=y;vec3.Altitude=z;if(this._indoorCamera.getMoveMode()==true){this._indoorCamera.setPickMode(false),this._indoorCamera.move(vec3,0,direct,0);if(this._indoorCamera.getMoveMode()==false){this._indoorCamera.setMoveMode(true)}this._indoorCamera.setPickMode(true)}else{this._indoorCamera.setAnimationSpeed(this.animationSpeed);this._indoorCamera.setMoveMode(true);setTimeout(function(){this._indoorCamera.setPickMode(true);this._indoorCamera.move(vec3,0,direct,0);if(this._indoorCamera.getMoveMode()==false){this._indoorCamera.setMoveMode(true)}this._indoorCamera.setPickMode(true)}.bind(this),7000)}}else{return false}vw.StaticMap.setFocus()},showIndoorLayer:function(){return vw.Indoor.INDOOR_LAYERS},clone:function(){if(null==this||"object"!=typeof this)return this;var a=new vw.indoor.Indoor();for(var b in this){if(this.hasOwnProperty(b))a[b]=this[b]}return a},initialize:function(){this._indoorCamera=vw.StaticMap._XDcom.getViewCamera(),this._indoorView=vw.StaticMap._XDcom.getView(),this._MapObj=vw.idleproc.map.pluginObject,this._MapControl=vw.StaticMap._XDcom.getControl()},CLASS_NAME:"vw.indoor.Indoor"}),vw.indoor.Info=vw.Util.Class(vw.Indoors,{isIndoorData:false,indoorDataFlag:false,_JSONIndoorList:null,idmUID:null,IsIndoorData:function(){return this.isIndoorData=this.indoorDataFlag},getIndoorTypes:function(){return vw.Indoor.INDOOR_CATEGORY},getIndoorTypeList:function(){_JSONIndoorList=null;try{var xhttp=new XMLHttpRequest();xhttp.onreadystatechange=function(){if(this.readyState==4&&this.status==200){_JSONIndoorList=this.responseText}};xhttp.open("POST",vw.Indoor.INDOORLIST_URL,false);xhttp.send()}catch(e){}return _JSONIndoorList},getEntranceInfos:function(a){_JSONIndoorList=null;var b=new FormData();b.append('uid',a);try{var xhttp=new XMLHttpRequest();xhttp.onreadystatechange=function(){if(this.readyState==4&&this.status==200){_JSONIndoorList=this.responseText}};xhttp.open("POST",vw.Indoor.INDOORGATELIST_URL,false);xhttp.send(b)}catch(e){}return _JSONIndoorList},getIndoorInfo:function(a){_JSONIndoorList=null;var b=new FormData();b.append('uid',a);try{var xhttp=new XMLHttpRequest();xhttp.onreadystatechange=function(){if(this.readyState==4&&this.status==200){_JSONIndoorList=this.responseText}};xhttp.open("POST",vw.Indoor.INDOORINFOLIST_URL,false);xhttp.send(b)}catch(e){}return _JSONIndoorList},initialize:function(){this.indoorDataFlag=true},CLASS_NAME:"vw.indoor.Info"});